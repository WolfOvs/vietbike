(this.webpackJsonproot=this.webpackJsonproot||[]).push([[1],{565:function(t,e,a){"use strict";a.d(e,"b",(function(){return T})),a.d(e,"a",(function(){return w})),a.d(e,"c",(function(){return _})),a.d(e,"d",(function(){return gt}));var n=a(8),o=a(0),l=a.n(o),r=a(552),i=a(46),c=a(2),s=a(1);function u(){var t=Object(c.a)(["\t\n\tmargin-bottom: 80px;\t\n"]);return u=function(){return t},t}function d(){var t=Object(c.a)(["\n\tposition: relative;\n\tflex-grow: 1;\n\t// background: linear-gradient(",", ",");\n\tbackground-image: linear-gradient(to bottom, ",", "," 35%);\n\t@media(max-width: ","px) {\n\t\torder: 1;\n\t}\n"]);return d=function(){return t},t}function m(){var t=Object(c.a)(["\n\tdisplay:block;\n\tposition:absolute;\n\ttop: 40px;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tbackground-color: ",";\n\topacity: 0.9;\n\tz-index: 99999;\n\t~ .body-container {\n\t\t.select-ui {\n\t\t\tpointer-events: none;\n\t\t}\n\t}\n"]);return m=function(){return t},t}function b(){var t=Object(c.a)(["\n\t\t\tposition: relative;\n\t\t\ttop: 0px;\n\t"]);return b=function(){return t},t}function h(){var t=Object(c.a)(["\n\tposition: relative;\n\twidth: 100px;\n\tleft: 0;\n\tbackground-color: ",";\n\tdiplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tpadding: 40px 0px;\n\n\t",";\n\n\t\n\n\t@media(max-width: ","px) {\n\t\tposition: fixed;\n\t\ttop: 56px;\n\t\tleft: ",";\n\t\tbottom: 0;\n\t\tright: 0;\n\t\twidth: ",";\n\t\theight: 100%;\n\t\tbackground: ",";\n\t}\n"]);return h=function(){return t},t}function g(){var t=Object(c.a)(["\n\tposition: relative;\n\tflex-grow: 1;\n\toverflow: hidden;\n\tbackground: ",";\n\t@media(max-width: ","px) {\n\t\tflex-direction: column;\n\t\toverflow-y: ",";\n\t}\n"]);return g=function(){return t},t}function f(){var t=Object(c.a)(["\n\tflex-direction: column;   \n\theight: 100vh;\n"]);return f=function(){return t},t}var p=s.c.div(f()),O=s.c.section(g(),t=>t.theme.colors.darkBlueGrey,t=>t.theme.constants.BREAKPOINT_MOBILE,t=>t.isOpenMenu?"hidden":"auto"),v=s.c.div(h(),t=>t.theme.colors.colorBlueNavy,t=>!0===t.isInHome&&Object(s.b)(b()),t=>t.theme.constants.BREAKPOINT_MOBILE,t=>t.isOpen?"0":"-100%",t=>t.isOpen?"100%":"0",t=>t.theme.colors.shadow),j=s.c.div(m(),t=>t.theme.colors.colorPrussianBlue),E=s.c.section(d(),t=>t.theme.colors.colorBlueWale,t=>t.theme.colors.colorRegularBlue,t=>t.theme.colors.colorBlueWale,t=>t.theme.colors.colorRegularBlue,t=>t.theme.constants.BREAKPOINT_MOBILE),S=s.c.section(u());function x(t){var e=t.children,a=t.stations,o=(t.pathsMenu,t.stationActive,t.pageCurrent),r=(t.tcsActive,t.accordionMenu,t.history),i=t.isOpenNotification,c=t.actionNotification,s=t.notificationCount,u=t.ridp,d=t.showModalAction,m=t.confirmLimits,b=t.confirmLimitsAction,h="/"===o.url,g=l.a.useState(h),f=Object(n.a)(g,2),x=f[0],T=f[1];return l.a.createElement(p,{className:"dflex"},l.a.createElement(O,{className:"dflex",isOpenMenu:x},x&&!h&&l.a.createElement(j,{onClick:()=>{T(!x)}}),l.a.createElement(v,{className:"dflex dflex__col",isOpen:x,isInHome:h},l.a.createElement(_,{ridp:u,onClickLogo:()=>r.push("/")})),l.a.createElement(E,{className:"dflex dflex__col dflex__col--big body-container"},e),l.a.createElement(S,null,i&&l.a.createElement(gt,{notificationCount:s,stations:a,action:c,showModalAction:d,confirmLimits:m,confirmLimitsAction:b}))))}x.defaultProps={};var T=Object(r.a)(x);a(566);var w=Object(r.a)((function({history:t,stations:e,updatedStations:a,filters:o,filterOptions:r,filterMap:c,stationsMap:s,showModalAction:u,pipelines:d,centers:m,confirmLimits:b,confirmLimitsAction:h,updateInfoTime:g,filterState:f}){var p=function(){var t=l.a.useState([]),e=Object(n.a)(t,2),a=e[0],o=e[1];return[a,function(t,{spinta:e,stoccaggio:n}){var l=[...a];t.forEach((t,a)=>{0===t.type&&(l[a]=e),1===t.type&&(l[a]=n)}),o(l)},function(t){var e=[];t.forEach(t=>e.push(!0)),o([...e])}]}(),O=Object(n.a)(p,3),v=O[0],j=(O[1],O[2]);return l.a.useEffect(()=>{},[c]),l.a.useEffect(()=>{e&&e.length>0&&j(e)},[e]),l.a.createElement(i.r,{filterOptions:r,stations:e||[],updatedStations:a,visibilityStations:v,position:[43.46,11.15],history:t,filterMap:c,stationsMap:s,showModalAction:u,pipelines:d,centers:m,confirmLimits:b,confirmLimitsAction:h,updateInfoTime:g,filterState:f})})),D=a(13);function y(){var t=Object(c.a)(["\n\tdisplay: block;\n\tdisplay: flex;\n\tjustify-content: center;\n\tflex-direction: column;\n\talign-items: center;\n\twidth:100%;\n\n\t&::before {\n\t\tdisplay: block;\n\t\tcontent: '';\n\t\theight: 85px;\n\t\twidth: 5px;\n\t\tbackground-image: linear-gradient(to bottom, #1295d4 0%, #11a0c4 20%, #0cce83 100%);\n\t\tposition: absolute;\n\t\tleft: 0;\n\t}\n"]);return y=function(){return t},t}function M(){var t=Object(c.a)(["\n\tfont-size: 12px;\n\tfont-weight: bold;\n\tpadding: 1px 0;\n"]);return M=function(){return t},t}function C(){var t=Object(c.a)(["\n\tdisplay: block;\n\tdisplay: flex;\n\tjustify-content: center;\n\tflex-direction: column;\n\talign-items: center;\n"]);return C=function(){return t},t}function L(){var t=Object(c.a)(["\n\tposition: relative;\n\tdisplay: flex;\n\twidth:100%;\n\tjustify-content: space-between;\n\tflex-direction: column;\n\talign-items: center;\n\theight: 100%;\n\t@media(max-width: ","px) {\n\t\torder: 2;\n\t\toverflow-y: unset;\n\t\theight: auto;\n\t\twidth: 100%;\n\t\tmax-width: 100%;\n\t}\n\tbutton {\n\t\tposition: absolute;\n\t\tdisplay: block;\n\t\tbottom: 18px;\n\t\tleft: 50%;\n\t\ttransform: translateX(-50%);\n\t}\n"]);return L=function(){return t},t}var I=s.c.aside(L(),t=>t.theme.constants.BREAKPOINT_MOBILE),k=s.c.div(C()),A=s.c.div(M()),P=s.c.div(y()),F=a(100),N=a(19),B=({stations:t,pathsMenu:e,accordionMenu:a,stationActive:n,tcsActive:o,pageCurrent:r,isOpen:i,onCloseMenu:c,onClickLogo:s,ridp:u})=>{var d=t?Object(D.g)(t,0):[],m=t?Object(D.g)(t,1):[];Object(D.l)(d),Object(D.l)(m);return l.a.createElement(I,{side:"left"},l.a.createElement(F.a,{size:50,onClickLogo:s}),l.a.createElement(P,null,l.a.createElement(N.a,{iconKey:"iconOptions",size:40})),l.a.createElement(k,null,l.a.createElement(N.a,{iconKey:"iconUser",size:30}),l.a.createElement(A,null,u)))};B.defaultProps={stations:[],side:"left",pathsMenu:null,stationActive:"",tcsActive:"",pageCurrent:{},accordionMenu:[]};var _=Object(r.a)(B);Object(r.a)(l.a.memo((function(t){var e=t.station,a=t.globalLabels,o=t.configureDraw,r=t.configureDimesionDraw,c=t.goToDetails,s=t.configureTable,u=t.isThresholds,d=t.changeOpenModal,m=l.a.useState(!0),b=Object(n.a)(m,2),h=b[0],g=b[1];return e&&a&&o&&r?l.a.createElement(l.a.Fragment,null,h&&l.a.createElement(i.q,null),(t=>{switch(t.type){case 0:var e=t.data.tcs.map(t=>({id:t.id,state:t.state}));return l.a.createElement(i.v,{goToDetails:c,dimesionDraw:r,configureDraw:o,changeIsLoading:g,stateTC:e,isThresholds:u,changeOpenModal:d});default:return l.a.createElement(i.z,{idStation:t.id,dataGlobal:t.data,globalLabels:a,configureDraw:o,configureDimesionDraw:r,goToDetails:c,changeIsLoading:g,isThresholds:u,changeOpenModal:d})}})(e),!h&&s&&l.a.createElement(i.G,{data:s,isThresholds:u,changeOpenModal:d})):l.a.createElement(i.q,null)}),(t,e)=>Object(D.k)(t,e)));Object(r.a)(l.a.memo((function({history:t,data:e,stationId:a,turbochargerId:o,configurations:r,labels:c,thresholds:s,isThresholds:u,changeOpenModal:d}){var m=l.a.useState(!0),b=Object(n.a)(m,2),h=b[0],g=b[1],f=l.a.useState(a),p=Object(n.a)(f,2),O=p[0],v=p[1],j=l.a.useState(o),E=Object(n.a)(j,2),S=E[0],x=E[1],T=l.a.useState(null),w=Object(n.a)(T,2),D=w[0],y=w[1],M=l.a.useState(null),C=Object(n.a)(M,2),L=C[0],I=C[1],k=l.a.useState(null),A=Object(n.a)(k,2),P=A[0],F=A[1],N=l.a.useState(null),B=Object(n.a)(N,2),_=B[0],q=B[1];return l.a.useEffect(()=>{v(a),x(o),y(c),I(null),F(null)},[a,o,c,v,x,y,I,F]),l.a.useEffect(()=>{O===a&&S===o&&r&&D&&(I(r.configureLabels({data:e,tcs:S,thresholds:s,labels:D})),F(r.configureDataTable({data:e,tcs:S,thresholds:s,labels:D})),q(r.getDimesionDraw(S)))},[a,o,S,O,r,e,D,s,I,F,q]),L&&P?l.a.createElement(l.a.Fragment,null,h&&l.a.createElement(i.q,null),l.a.createElement(i.v,{dimesionDraw:_,configureDraw:L,goToDetails:e=>{t.push("".concat(t.location.pathname,"/").concat(e))},changeIsLoading:g,isThresholds:u,changeOpenModal:d}),!h&&l.a.createElement(i.G,{data:P,isThresholds:u,changeOpenModal:d})):l.a.createElement(i.q,null)}),(t,e)=>{Object(D.k)(t.data,e.data)}));Object(r.a)(l.a.memo((function({data:t,stationId:e,turbochargerId:a,activeTab:o,thresholds:r,isThresholds:c,changeOpenModal:s,goToDetails:u,configurations:d,labels:m}){var b=l.a.useState(!0),h=Object(n.a)(b,2),g=h[0],f=h[1],p=l.a.useState(e),O=Object(n.a)(p,2),v=O[0],j=O[1],E=l.a.useState(a),S=Object(n.a)(E,2),x=S[0],T=S[1],w=l.a.useState(o),D=Object(n.a)(w,2),y=D[0],M=D[1],C=l.a.useState(null),L=Object(n.a)(C,2),I=L[0],k=L[1],A=l.a.useState(null),P=Object(n.a)(A,2),F=P[0],N=P[1],B=l.a.useState(null),_=Object(n.a)(B,2),q=_[0],z=_[1],G=l.a.useState(null),R=Object(n.a)(G,2),U=R[0],V=R[1];return l.a.useEffect(()=>{j(e),T(a),k(m),N(null),z(null),V(null)},[e,a,m,j,T,k,N,z]),l.a.useEffect(()=>{o!==y&&M(o),v===e&&x===a&&d&&I&&(N(d.configureLabels({data:t,tcs:a,activeTab:o,thresholds:r,labels:I})),z(d.configureDataTable({data:t,tcs:a,activeTab:o,thresholds:r,labels:I})),V(d.getDimesionDraw(a)))},[v,e,y,a,x,t,I,o,N,z,V,d,r]),F&&q?l.a.createElement(l.a.Fragment,null,g&&l.a.createElement(i.q,null),l.a.createElement(i.x,{goToDetails:u,configureDraw:F,dimesionDraw:U,changeIsLoading:f,configureTab:d.configurationTab(a),isThresholds:c,changeOpenModal:s}),!g&&l.a.createElement(i.G,{data:q,isThresholds:c,changeOpenModal:s})):l.a.createElement(i.q,null)}),(t,e)=>Object(D.k)(t,e)));var q=(t,e,a,n,o,r,c,s,u,d)=>l.a.createElement(l.a.Fragment,null,l.a.createElement(i.g,{idSelector:a,data:e,height:350,xDomain:c,yDomain:s,xLabel:u,yLabel:d,xUnit:u,yUnit:d,xWorkPoint:t[n]?Object(D.j)(t,n):null,yWorkPoint:t[o]?Object(D.j)(t,o):null}),l.a.createElement(i.o,{workPointer:r,padding:"16px 0"}));Object(r.a)(l.a.memo((function({data:t,stationId:e,turbochargerId:a,thresholds:o,isThresholds:r,changeOpenModal:c,activeTab:s,configurations:u,labels:d}){var m=l.a.useState(!0),b=Object(n.a)(m,2),h=b[0],g=b[1],f=l.a.useState(e),p=Object(n.a)(f,2),O=p[0],v=p[1],j=l.a.useState(a),E=Object(n.a)(j,2),S=E[0],x=E[1],T=l.a.useState(s),w=Object(n.a)(T,2),D=w[0],y=w[1],M=l.a.useState(null),C=Object(n.a)(M,2),L=C[0],I=C[1],k=l.a.useState(d),A=Object(n.a)(k,2),P=A[0],F=A[1];return l.a.useEffect(()=>{v(e),x(a),y(s),F(d),g(!1),I(null)},[e,a,s,d]),l.a.useEffect(()=>{O===e&&S===a&&u&&P&&I(u.configureDataTable({data:t,tcs:S,activeTab:D,getChart:q,thresholds:o,labels:P}))},[O,e,S,a,u,t,P,D,o]),L?l.a.createElement(l.a.Fragment,null,h&&l.a.createElement(i.q,null),!h&&l.a.createElement(i.G,{data:L,isThresholds:r,changeOpenModal:c})):l.a.createElement(i.q,null)}),(t,e)=>Object(D.k)(t,e)));Object(r.a)(l.a.memo((function({data:t,stationId:e,turbochargerId:a,configurations:o,labels:r}){var c=l.a.useState(!0),s=Object(n.a)(c,2),u=s[0],d=s[1],m=l.a.useState(e),b=Object(n.a)(m,2),h=b[0],g=b[1],f=l.a.useState(a),p=Object(n.a)(f,2),O=p[0],v=p[1],j=l.a.useState(null),E=Object(n.a)(j,2),S=E[0],x=E[1],T=l.a.useState(null),w=Object(n.a)(T,2),D=w[0],y=w[1],M=l.a.useState(r),C=Object(n.a)(M,2),L=C[0],I=C[1];return l.a.useEffect(()=>{g(e),v(a),I(r),d(!1),x(null),y(null)},[e,a,r]),l.a.useEffect(()=>{h===e&&O===a&&o&&L&&(y(o.configureDataTablePems({data:t,tcs:O,labels:L})),x(o.configureDataTable({data:t,tcs:O,labels:L})))},[h,e,O,a,o,t,L]),S?l.a.createElement(l.a.Fragment,null,u&&l.a.createElement(i.q,null),!u&&l.a.createElement(i.A,{data:D}),!u&&l.a.createElement(i.G,{data:S})):l.a.createElement(i.q,null)}),(t,e)=>Object(D.k)(t,e)));Object(r.a)(l.a.memo((function({data:t,stationId:e,turbochargerId:a,activeTab:o,changeOpenModal:r,isThresholds:c,thresholds:s,configurations:u,labels:d}){var m=l.a.useState(!0),b=Object(n.a)(m,2),h=b[0],g=b[1],f=l.a.useState(e),p=Object(n.a)(f,2),O=p[0],v=p[1],j=l.a.useState(a),E=Object(n.a)(j,2),S=E[0],x=E[1],T=l.a.useState(null),w=Object(n.a)(T,2),D=w[0],y=w[1],M=l.a.useState(null),C=Object(n.a)(M,2),L=C[0],I=C[1],k=l.a.useState(null),A=Object(n.a)(k,2),P=A[0],F=A[1],N=l.a.useState(null),B=Object(n.a)(N,2),_=B[0],q=B[1],z=l.a.useState(o),G=Object(n.a)(z,2),R=G[0],U=G[1],V=l.a.useState(null),J=Object(n.a)(V,2),H=J[0],K=J[1];return l.a.useEffect(()=>{v(e),x(a),U(o),K(d),y(null),I(null),F(null),q(null)},[e,a,o,d]),l.a.useEffect(()=>{O===e&&S===a&&u&&H&&(y(u.configureLabels({data:t,tcs:S,tab:R,thresholds:s,labels:H})),I(u.configureDataTable({data:t,tcs:S,tab:R,thresholds:s,labels:H})),F(u.getDimesionDraw({tcs:S,tab:R})),q(u.getLivelOil({data:t,tcs:S,tab:R,labels:H})))},[O,e,S,a,u,t,H,R,s]),D&&L?l.a.createElement(l.a.Fragment,null,h&&l.a.createElement(i.q,null),l.a.createElement(i.v,{configureDraw:D,dimesionDraw:P,livelOil:_,changeIsLoading:g,isThresholds:c,changeOpenModal:r}),!h&&l.a.createElement(i.G,{data:L,isThresholds:c,changeOpenModal:r})):l.a.createElement(i.q,null)}),(t,e)=>Object(D.k)(t,e))),a(293);Object(r.a)(l.a.memo((function({stationId:t,turbochargerId:e,data:a,activeTab:o,thresholds:r,isThresholds:c,changeOpenModal:s,configurations:u,labels:d}){var m=l.a.useState(!0),b=Object(n.a)(m,2),h=b[0],g=b[1],f=l.a.useState(t),p=Object(n.a)(f,2),O=p[0],v=p[1],j=l.a.useState(e),E=Object(n.a)(j,2),S=E[0],x=E[1],T=l.a.useState(o),w=Object(n.a)(T,2),D=w[0],y=w[1],M=l.a.useState(d),C=Object(n.a)(M,2),L=C[0],I=C[1],k=l.a.useState(null),A=Object(n.a)(k,2),P=A[0],F=A[1],N=l.a.useState(null),B=Object(n.a)(N,2),_=B[0],q=B[1],z=l.a.useState(null),G=Object(n.a)(z,2),R=G[0],U=G[1];return l.a.useEffect(()=>{v(t),x(e),y(o),I(d),F(null),q(null)},[t,e,o,d]),l.a.useEffect(()=>{O===t&&S===e&&u&&L&&(F(u.configureLabels({data:a,tcs:S,activeTab:D,thresholds:r,labels:L})),q(u.configureDataTable({data:a,tcs:S,activeTab:D,thresholds:r,labels:L})),U(u.getDimesionDraw(S)))},[t,e,a,O,S,D,L,u,F,q,U,r,o]),P&&_?l.a.createElement(l.a.Fragment,null,h&&l.a.createElement(i.q,null),l.a.createElement(i.v,{configureDraw:P,dimesionDraw:R,activeTab:D,changeIsLoading:g,isThresholds:c,changeOpenModal:s}),!h&&l.a.createElement(i.G,{data:_,isThresholds:c,changeOpenModal:s})):l.a.createElement(i.q,null)}),(t,e)=>Object(D.k)(t,e)));var z=(t,e,a,n,o,r,c)=>l.a.createElement(i.n,{idSelector:t,data:e,width:n,height:o,xDomain:e,yDomain:r||[0,1e3],ticks:c,margin:{top:30,left:30,bottom:30,right:30},yLabel:a});Object(r.a)(l.a.memo((function({data:t,stationId:e,turbochargerId:a,configurations:o,labels:r,thresholds:c,isThresholds:s,changeOpenModal:u}){var d=l.a.useState(!0),m=Object(n.a)(d,2),b=m[0],h=m[1],g=l.a.useState(e),f=Object(n.a)(g,2),p=f[0],O=f[1],v=l.a.useState(a),j=Object(n.a)(v,2),E=j[0],S=j[1],x=l.a.useState(r),T=Object(n.a)(x,2),w=T[0],y=T[1],M=l.a.useState(null),C=Object(n.a)(M,2),L=C[0],I=C[1],k=l.a.useState(null),A=Object(n.a)(k,2),P=A[0],F=A[1],N=l.a.useState(null),B=Object(n.a)(N,2),_=B[0],q=B[1],G=l.a.useState(null),R=Object(n.a)(G,2),U=R[0],V=R[1];return l.a.useEffect(()=>{O(e),S(a),y(r),F(null),q(null),V(null)},[e,a,r]),l.a.useEffect(()=>{p===e&&E===a&&o&&w&&(F(o.configureLabels({data:t,tcs:E,thresholds:c,labels:w})),q(o.configureDataTable({data:t,tcs:E,thresholds:c,labels:w,getChart:z})),I(o.getDimesionDraw(E)),V(Object(D.b)({dataChart:t,tcs:E,labels:w})))},[p,e,E,a,o,t,w,c,F,q,I]),P&&_&&w?l.a.createElement(l.a.Fragment,null,b&&l.a.createElement(i.q,null),l.a.createElement(i.w,{stationId:e,turbochargerId:a,dimesionDraw:L,configureDraw:P,changeIsLoading:h,dataRadialCharts:U,isThresholds:s,changeOpenModal:u}),!b&&l.a.createElement(i.G,{data:_,isThresholds:s,changeOpenModal:u})):l.a.createElement(i.q,null)}),(t,e)=>Object(D.k)(t,e)));Object(r.a)(l.a.memo((function({data:t,stationId:e,turbochargerId:a,configurations:o,labels:r,isThresholds:c,thresholds:s,changeOpenModal:u}){var d=l.a.useState(!0),m=Object(n.a)(d,2),b=m[0],h=m[1],g=l.a.useState(e),f=Object(n.a)(g,2),p=f[0],O=f[1],v=l.a.useState(a),j=Object(n.a)(v,2),E=j[0],S=j[1],x=l.a.useState(r),T=Object(n.a)(x,2),w=T[0],D=T[1],y=l.a.useState(null),M=Object(n.a)(y,2),C=M[0],L=M[1],I=l.a.useState(null),k=Object(n.a)(I,2),A=k[0],P=k[1],F=l.a.useState(null),N=Object(n.a)(F,2),B=N[0],_=N[1];return l.a.useEffect(()=>{O(e),S(a),D(r),L(null),P(null)},[e,a,r]),l.a.useEffect(()=>{p===e&&E===a&&o&&w&&(L(o.configureLabels({data:t,tcs:E,thresholds:s,labels:w})),P(o.configureDataTable({data:t,tcs:E,thresholds:s,labels:w})),_(o.getDimesionDraw(E)))},[e,a,E,p,t,w,o,s,L,P,_]),C&&A?l.a.createElement(l.a.Fragment,null,b&&l.a.createElement(i.q,null),l.a.createElement(i.v,{dimesionDraw:B,configureDraw:C,changeIsLoading:h,isThresholds:c,changeOpenModal:u}),!b&&l.a.createElement(i.G,{data:A,isThresholds:c,changeOpenModal:u})):l.a.createElement(i.q,null)}),(t,e)=>Object(D.k)(t,e)));Object(r.a)(l.a.memo((function({data:t,stationId:e,turbochargerId:a,activeTab:o,changeOpenModal:r,isThresholds:c,thresholds:s,configurations:u,labels:d}){var m=l.a.useState(!0),b=Object(n.a)(m,2),h=b[0],g=b[1],f=l.a.useState(e),p=Object(n.a)(f,2),O=p[0],v=p[1],j=l.a.useState(a),E=Object(n.a)(j,2),S=E[0],x=E[1],T=l.a.useState(null),w=Object(n.a)(T,2),D=w[0],y=w[1],M=l.a.useState(null),C=Object(n.a)(M,2),L=C[0],I=C[1],k=l.a.useState(null),A=Object(n.a)(k,2),P=A[0],F=A[1],N=l.a.useState(null),B=Object(n.a)(N,2),_=B[0],q=B[1],z=l.a.useState(o),G=Object(n.a)(z,2),R=G[0],U=G[1],V=l.a.useState(null),J=Object(n.a)(V,2),H=J[0],K=J[1];return l.a.useEffect(()=>{v(e),x(a),U(o),K(d),y(null),I(null),F(null),q(null)},[e,a,o,d]),l.a.useEffect(()=>{O===e&&S===a&&u&&H&&(y(u.configureLabels({data:t,tcs:S,tab:R,thresholds:s,labels:H})),I(u.configureDataTable({data:t,tcs:S,tab:R,thresholds:s,labels:H})),F(u.getDimesionDraw({tcs:S,tab:R})),q(u.getLivelOil({data:t,tcs:S,tab:R,labels:H})))},[O,e,S,a,u,t,H,R,s]),D&&L?l.a.createElement(l.a.Fragment,null,h&&l.a.createElement(i.q,null),l.a.createElement(i.v,{configureDraw:D,dimesionDraw:P,livelOil:_,changeIsLoading:g,isThresholds:c,changeOpenModal:r}),!h&&l.a.createElement(i.G,{data:L,isThresholds:c,changeOpenModal:r})):l.a.createElement(i.q,null)}),(t,e)=>Object(D.k)(t,e)));Object(r.a)(l.a.memo((function({data:t,stationId:e,turbochargerId:a,activeTab:o,changeOpenModal:r,isThresholds:c,thresholds:s,configurations:u,labels:d}){var m=l.a.useState(!0),b=Object(n.a)(m,2),h=b[0],g=b[1],f=l.a.useState(e),p=Object(n.a)(f,2),O=p[0],v=p[1],j=l.a.useState(a),E=Object(n.a)(j,2),S=E[0],x=E[1],T=l.a.useState(null),w=Object(n.a)(T,2),D=w[0],y=w[1],M=l.a.useState(null),C=Object(n.a)(M,2),L=C[0],I=C[1],k=l.a.useState(null),A=Object(n.a)(k,2),P=A[0],F=A[1],N=l.a.useState(null),B=Object(n.a)(N,2),_=B[0],q=B[1],z=l.a.useState(o),G=Object(n.a)(z,2),R=G[0],U=G[1];return l.a.useEffect(()=>{v(e),x(a),U(o),y(d),I(null),F(null),q(null)},[e,a,o,d]),l.a.useEffect(()=>{O===e&&S===a&&u&&D&&(I(u.configureLabels({data:t,tcs:S,tab:R,thresholds:s,labels:D})),F(u.configureDataTable({data:t,tcs:S,tab:R,thresholds:s,labels:D})),q(u.getDimesionDraw({tcs:S,tab:R})))},[O,e,S,a,u,t,R,D,s,I,F,q]),L&&P?l.a.createElement(l.a.Fragment,null,h&&l.a.createElement(i.q,null),l.a.createElement(i.v,{configureDraw:L,changeIsLoading:g,isThresholds:c,changeOpenModal:r,dimesionDraw:_}),!h&&l.a.createElement(i.G,{data:P,isThresholds:c,changeOpenModal:r})):l.a.createElement(i.q,null)}),(t,e)=>Object(D.k)(t,e)));Object(r.a)(l.a.memo((function({data:t,stationId:e,turbochargerId:a,activeTab:o,changeOpenModal:r,isThresholds:c,thresholds:s,configurations:u,labels:d}){var m=l.a.useState(!0),b=Object(n.a)(m,2),h=b[0],g=b[1],f=l.a.useState(e),p=Object(n.a)(f,2),O=p[0],v=p[1],j=l.a.useState(a),E=Object(n.a)(j,2),S=E[0],x=E[1],T=l.a.useState(null),w=Object(n.a)(T,2),D=w[0],y=w[1],M=l.a.useState(null),C=Object(n.a)(M,2),L=C[0],I=C[1],k=l.a.useState(null),A=Object(n.a)(k,2),P=A[0],F=A[1],N=l.a.useState(null),B=Object(n.a)(N,2),_=B[0],q=B[1],z=l.a.useState(o),G=Object(n.a)(z,2),R=G[0],U=G[1];return l.a.useEffect(()=>{v(e),x(a),U(o),y(d),I(null),F(null),q(null)},[e,a,o,d]),l.a.useEffect(()=>{O===e&&S===a&&u&&D&&(I(u.configureLabels({data:t,tcs:S,tab:R,thresholds:s,labels:D})),F(u.configureDataTable({data:t,tcs:S,tab:R,thresholds:s,labels:D})),q(u.getDimesionDraw({tcs:S,tab:R})))},[O,e,S,a,u,t,R,D,s,I,F,q]),L&&P?l.a.createElement(l.a.Fragment,null,h&&l.a.createElement(i.q,null),l.a.createElement(i.v,{dimesionDraw:_,configureDraw:L,changeIsLoading:g,isThresholds:c,changeOpenModal:r}),!h&&l.a.createElement(i.G,{data:P,isThresholds:c,changeOpenModal:r})):l.a.createElement(i.q,null)}),(t,e)=>Object(D.k)(t,e)));function G(){var t=Object(c.a)(["\n\tfont-size: 16px;\n"]);return G=function(){return t},t}function R(){var t=Object(c.a)(["\n\tfont-size: 16px;\n\tfont-weight:bold;\n"]);return R=function(){return t},t}function U(){var t=Object(c.a)(["\n\t\n"]);return U=function(){return t},t}function V(){var t=Object(c.a)(["\n\tdisplay:flex;\n\tjustify-content: space-between;\n\talign-items: center;\n"]);return V=function(){return t},t}function J(){var t=Object(c.a)(["\n\t//padding:15px 10px;\n"]);return J=function(){return t},t}function H(){var t=Object(c.a)(["\n\tpadding:15px 15px 5px 15px;\t\n\tbackground-color: ",";\n\tborder-radius:10px;\n\tmargin-top:10px;\n\n\tdiv{\n\t\t.cabin {\n\t\t\tborder-bottom: 1px dashed #000;\n\t\t\tpadding:10px 0;\n\t\n\t\t}\n\t\n\t\t&:last-child {\n\t\t\t.cabin{\n\t\t\t\tborder-bottom:none;\n\t\t\t}\n\t\t}\n\t}\n"]);return H=function(){return t},t}function K(){var t=Object(c.a)(["\n\tpadding: 20px 0px 0px 0px;\n"]);return K=function(){return t},t}function W(){var t=Object(c.a)(["\n\tfont-size: 14px;\n\tfont-weight:bold;\n\tmargin-bottom:15px;\n"]);return W=function(){return t},t}function X(){var t=Object(c.a)(["\n\twidth: 18px;\n\theight: 17px;\n\tdisplay: block;\n\tbackground-color: red;\n\tcolor: ",";\n\tfont-size:11px;\n\tfont-weight: bold;\n\tborder-radius:100%;\n\ttext-align:center;\n\tright: 30px;\n\ttop: 43px;\n\tposition:absolute;\n\tpadding-top: 3px;\n\tpadding-right: 1px;\n"]);return X=function(){return t},t}function Z(){var t=Object(c.a)(["\n\tfont-size: 24px;\n\ttext-align:center;\n\tfont-weight: bold;\n    padding-top: 40vh;\n"]);return Z=function(){return t},t}function Y(){var t=Object(c.a)(["\n\tfont-size: 14px;\n\tspan {\n\t\tfont-weight: bold;\n\t}\n"]);return Y=function(){return t},t}function $(){var t=Object(c.a)(["\n\tfont-size: 22px;\n\tfont-weight: bold;\n\tpadding-bottom: 4px;\n"]);return $=function(){return t},t}function Q(){var t=Object(c.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding-bottom: 40px;\n\tborder-bottom: 1px solid ",";\n\tbutton {\n\t\tbackground-image: linear-gradient(to right, #1295d4 0%, #11a0c4 20%, #0cce83 100%);\n\t}\n"]);return Q=function(){return t},t}function tt(){var t=Object(c.a)(["\n\tposition: relative;\n\tbackground-color: ",";\n\toverflow-y: auto;\n\toverflow-x: hidden;\n\tmargin-top:-1px;\n\tborder-left: 1px solid ",";\n\theight: 100%;\n\twidth: 320px;\n\tpadding: 40px;\n"]);return tt=function(){return t},t}var et=s.c.aside(tt(),t=>t.theme.colors.colorBlueNavy,t=>t.theme.colors.colorBlueNavy),at=s.c.div(Q(),t=>t.theme.colors.colorCeruleanBlue),nt=s.c.div($()),ot=s.c.div(Y()),lt=s.c.div(Z()),rt=s.c.div(X(),t=>t.theme.colors.white),it=s.c.div(W()),ct=s.c.div(K()),st=s.c.div(H(),t=>t.theme.colors.colorCeruleanBlue),ut=s.c.div(J()),dt=s.c.div(V()),mt=s.c.div(U()),bt=s.c.div(R()),ht=s.c.div(G()),gt=l.a.memo(({action:t,stations:e,notificationCount:a,showModalAction:n,confirmLimits:o,confirmLimitsAction:r})=>{var c=null;e.forEach(t=>{t.impiantoDiRiduzione.some(t=>t.limiteConsigliato)&&(c=!0)});var s=[{type:"EP",label:"Entry point",notifications:[]},{type:"Giornaliero",label:"Giornalieri",notifications:[]},{type:"Settimanale",label:"Settimanali",notifications:[]},{type:"Mensile",label:"Mensili",notifications:[]},{type:"Stagionale",label:"Stagionali",notifications:[]}];return e.forEach(t=>{s.map(e=>{var a=t.impiantoDiRiduzione.filter(t=>t.limiteConsigliato&&t.time===e.type);if(t.notification&&1!==t.state&&a.length>0){var n={name:t.name,id:t.id,impiantoDiRiduzione:t.impiantoDiRiduzione.filter(t=>t.limiteConsigliato&&t.time===e.type)};e.notifications.push(n)}})}),l.a.createElement(et,{className:"dflex dflex__col",side:"right"},l.a.createElement(at,null,l.a.createElement("div",null,l.a.createElement(nt,null,"Notification center"),l.a.createElement(ot,null,"Notifiche totali ",l.a.createElement("span",null,a||"0"))),l.a.createElement(i.e,{icon:"closeX",sizeIcon:30,height:"40px",width:"40px",padding:"0px",action:t}),a&&l.a.createElement(rt,null,a)),!c&&l.a.createElement(lt,null,"Oggi non sono presenti notifiche da segnalarti"),c&&s.map(t=>l.a.createElement("div",{key:t.type},t.notifications.length>0&&l.a.createElement(ct,null,l.a.createElement(it,null,t.label),l.a.createElement(ut,null,t.notifications.map((t,e)=>l.a.createElement("div",{key:e},t.impiantoDiRiduzione.length>0&&l.a.createElement(st,null,l.a.createElement(dt,null,l.a.createElement(bt,null,t.name.toLowerCase().replace(/\b(\w)/g,t=>t.toUpperCase()).replace(/(xc|xl|l?x{0,3})(ix|iv|v?i{0,3})$|^\d/g,t=>t.toUpperCase()))),t.impiantoDiRiduzione.map((e,a)=>l.a.createElement("div",{key:a},e.limiteConsigliato&&l.a.createElement("div",{className:"cabin"},l.a.createElement(dt,null,l.a.createElement(ht,null,"CAB ",e.name),l.a.createElement("div",null,(t=>{var e=t.split("-")[0].padStart(2,"0"),a=t.split("-")[1].padStart(2,"0"),n=t.split("-")[2].split(" ")[0],o=t.split("-")[2].split(" ")[1].split(":")[0].padStart(2,"0"),l=t.split("-")[2].split(" ")[1].split(":")[1].padStart(2,"0"),r=t.split("-")[2].split(" ")[1].split(":")[2].padStart(2,"0");a=(parseInt(a)-1).toString();var i=new Date(n,a,e,o,l,r);return["Dom","Lun","Mar","Mer","Gio","Ven","Sab"][i.getDay()]+", "+i.getDate()+" "+["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"][i.getMonth()]+" "+i.getFullYear()+" "+i.getHours()+":"+(i.getUTCMinutes().toString().length<=1?"0":"")+i.getUTCMinutes()})(e.limitDate))),l.a.createElement(mt,null,l.a.createElement(i.u,{cabina:e,isNotification:"true",stationName:t.name,actionLimitModal:n,confirmLimits:o,confirmLimitsAction:r})))))))))))))},(t,e)=>Object(D.k)(t,e));function ft(){var t=Object(c.a)(["\n\tposition: relative;\n\toverflow-y: auto;\n\toverflow-x: hidden;\n\tflex-grow: 1;\n\theight: calc(100vh - 96px);\n\twidth: calc(100vw - 220px);\n\t@media(max-width: ","px) {\n\t\twidth: 100%;\n    height: 100%;\n\t}\n"]);return ft=function(){return t},t}function pt(){var t=Object(c.a)(["\n\theight: 100%;\n\t@media(max-width: ","px) {\n\t\tflex-direction: column;\t\t\n\t}\n"]);return pt=function(){return t},t}s.c.div(pt(),t=>t.theme.constants.BREAKPOINT_MOBILE),s.c.div(ft(),t=>t.theme.constants.BREAKPOINT_MOBILE);var Ot=a(567),vt=a.n(Ot),jt=a(568),Et=a.n(jt);l.a.memo((function(t){var e=t.dataTrend,a=t.stationID,o=t.tcsID,r=t.handleShowModal,c=t.getTrendCSV,s=t.labels,u=t.dispatchGetTrendChart,d=l.a.useState(e),m=Object(n.a)(d,2),b=m[0],h=m[1],g=l.a.useState([0,10]),f=Object(n.a)(g,2),p=f[0],O=f[1],v=l.a.useState([0,10]),j=Object(n.a)(v,2),E=j[0],S=j[1],x=l.a.useState(null),T=Object(n.a)(x,2),w=T[0],y=T[1],M=l.a.useState([]),C=Object(n.a)(M,2),L=C[0],I=C[1];l.a.useEffect(()=>{if(JSON.stringify(s)!==JSON.stringify(w)){y(s);var t=[];s.forEach(e=>{e.tagList.forEach(e=>{t.findIndex(t=>t.tagAcn===e.tagAcn)<0&&t.push(e)})}),I(t)}},[s,w,y]),l.a.useEffect(()=>{var t=e&&e.dateFrom?new Date(e.dateFrom):new Date((new Date).setHours((new Date).getHours()-1)),n=e&&e.dateTo?new Date(b.dateTo):new Date;if(e.chart){var l=e.chart.map(t=>t.values.map(t=>t.y)),r=l.map(t=>Math.max(...t)),i=l.map(t=>Math.min(...t)),c=Math.max(...r),s=Math.min(...i);O([s,c])}else u({station:a,measures:e.listParameters.map(t=>"".concat(o,"_").concat(t.tag,"_").concat(t.uom)),from:t.getTime(),to:n.getTime()},a,o,e.id,!1);S([t,n]),h(e)},[a,o,b,e,u]);var k=b&&b.dateFrom?new Date(b.dateFrom):new Date((new Date).setHours((new Date).getHours()-1)),A=b&&b.dateTo?new Date(b.dateTo):new Date,P=b&&b.listParameters.length>0&&Object(D.h)(b.listParameters[0].uom),F=b&&b.listParameters.map(t=>{var e=Object(D.f)(L,t.tag);return{tag:t.tag,color:Object(D.a)(t.uom),label:e.label,uom:e.uom}}),N=Date.now();return l.a.createElement("div",{id:"masonry-card-".concat(N)},l.a.createElement(i.f,{title:b.name,onExpand:()=>r(b)},l.a.createElement(i.i,{classStyle:"margin-bottom-10",values:{dateFrom:Object(D.e)(k),dateTo:Object(D.e)(A)},actionBar:[{label:"Download",icon:"download",tooltipMenu:[{icon:"download",label:"Download JPG",action:()=>{(t=>{var e=document.getElementById(t);e.classList.add("restyle"),vt()(e).then(t=>{var a={content:[{image:t.toDataURL(),width:e.offsetWidth}]};Et.a.createPdf(a).download("test_file.pdf")}),e.classList.remove("restyle")})("masonry-card-".concat(N))}},{icon:"download",label:"Download CSV",action:()=>{c([{station:a,fileName:b.name,measures:b.listParameters.map(t=>"".concat(o,"_").concat(t.tag,"_").concat(t.uom)),from:k.getTime(),to:A.getTime()}])}}]}]}),l.a.createElement("div",null,b.chart?l.a.createElement(i.h,{idSelector:"#cartesian-trend-".concat(a,"-").concat(o,"-").concat(b.id),data:b.chart||[],height:222,xDomain:E,yDomain:p,xLabel:"t",yLabel:P,xUnit:"t",yUnit:P,margin:{top:32,right:32,bottom:20,left:20},colors:D.a,findTooltipLabel:t=>Object(D.d)(L,t)}):l.a.createElement(i.q,{type:"component"})),l.a.createElement(i.k,{itemsTable:F})))}),(t,e)=>Object(D.k)(t,e));function St(){var t=Object(c.a)(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\theight: 32px;\n\tborder-radius: 0 0 3px 3px;\n\tfont-size: 1.2em;\n\tcolor: ",";\n\tbackground-color: ",";\n"]);return St=function(){return t},t}function xt(){var t=Object(c.a)(["\n\tposition: relative;\n\tpadding: 20px 16px;\n\tmax-height: 500px;\n\toverflow-y: auto;\n\toverflow-x: hidden;\n\t& > div {\n\t\tmargin-bottom: 16px;\n\t\t&:last-of-type {\n\t\t\tmargin-bottom: 0;\n\t\t}\n\t}\n"]);return xt=function(){return t},t}var Tt=s.c.div(xt()),wt=s.c.div(St(),t=>t.theme.colors.white,t=>t.theme.colors.persianRed),Dt=({showModal:t,closeModal:e,searchTag:a,thresholds:o,onSave:r,statusResponse:c,resetResponseApi:s,userRole:u,labels:d,typeTag:m})=>{var b=l.a.useState([]),h=Object(n.a)(b,2),g=h[0],f=h[1],p=l.a.useState([]),O=Object(n.a)(p,2),v=O[0],j=O[1],E=document.getElementById(a),S=document.getElementById("wrapper-box");l.a.useEffect(()=>{JSON.stringify(o)!==JSON.stringify(g)&&f(o)},[o,g]),l.a.useEffect(()=>{JSON.stringify(d)!==JSON.stringify(v)&&j(d)},[d,v]),l.a.useEffect(()=>{a&&S&&E&&S.scrollTo({top:E.offsetTop-S.offsetTop-16,behavior:"smooth"})},[a,E,S]);return l.a.createElement(i.s,{showModal:t,classStyle:"modal-thresholds",title:"Gestione Soglie",onClose:()=>{s(),e(!1)}},l.a.createElement(Tt,{id:"wrapper-box"},g&&(t=>{var e=t.findIndex(t=>t.tag===a);switch(!0){case e<0:return l.a.createElement(wt,{className:"dflex dflex__center dflex__center--space-cente"},"Dato su cui non \xe8 possibile impostare le soglie");case e>=0:return t.map(t=>{var e=v.find(e=>e.tagAcn===t.tag)||{labelTooltip:"",uom:"",tagCliente:"",tagVendor:""},n=Object(D.h)(e.uom);return l.a.createElement(i.b,{key:t.tag,focus:t.tag===a,data:t,label:e.labelTrend,labelTag:e[m],text:"Aggiorna",action:r,status:c,uom:n,userRole:u})});default:return null}})(g)))};Dt.defaultProps={showModal:!1,closeModal:()=>{},searchTag:null,thresholds:[],onSave:()=>{},statusResponse:null,resetResponseApi:()=>{},userRole:null,labels:[],typeTag:"tagCliente"};var yt=a(27),Mt=t=>{var e=t.dataTrend,a=t.stationID,o=t.tcsID,r=t.handleShowModal,c=t.showModal,s=t.type,u=t.getTrendCSV,d=t.saveTrend,m=t.labels,b=t.currentChart,h=t.archive,g=t.dispatchGetChartByParameters,f=t.dispatchGetTrendChart,p=t.dispatchResetCurrentChart,O=l.a.useState(!0),v=Object(n.a)(O,2),j=v[0],E=v[1],S=l.a.useState(e.name),x=Object(n.a)(S,2),T=x[0],w=x[1],y=l.a.useState(!1),M=Object(n.a)(y,2),C=M[0],L=M[1],I=l.a.useState(e),k=Object(n.a)(I,2),A=k[0],P=k[1],F=l.a.useState([]),N=Object(n.a)(F,2),B=N[0],_=N[1],q=l.a.useState(null),z=Object(n.a)(q,2),G=z[0],R=z[1],U=l.a.useState(null),V=Object(n.a)(U,2),J=V[0],H=V[1],K=l.a.useState({dateFrom:new Date(e.dateFrom),dateTo:new Date(e.dateTo)}),W=Object(n.a)(K,2),X=W[0],Z=W[1],Y=l.a.useState([0,10]),$=Object(n.a)(Y,2),Q=$[0],tt=$[1],et=l.a.useState([0,10]),at=Object(n.a)(et,2),nt=at[0],ot=at[1],lt=l.a.useState(!1),rt=Object(n.a)(lt,2),it=rt[0],ct=rt[1],st=l.a.useState(!1),ut=Object(n.a)(st,2),dt=ut[0],mt=ut[1],bt=l.a.useState("edit"===s?"chart":"dataSet"),ht=Object(n.a)(bt,2),gt=ht[0],ft=ht[1],pt=l.a.useState("forPage"),Ot=Object(n.a)(pt,2),vt=Ot[0],jt=Ot[1],Et=l.a.useState(null),St=Object(n.a)(Et,2),xt=St[0],Tt=St[1],wt=l.a.useState([]),Dt=Object(n.a)(wt,2),Mt=Dt[0],Ct=Dt[1],Lt=l.a.useState([]),It=Object(n.a)(Lt,2),kt=It[0],At=It[1],Pt=l.a.useState([]),Ft=Object(n.a)(Pt,2),Nt=Ft[0],Bt=Ft[1],_t=l.a.useState([]),qt=Object(n.a)(_t,2),zt=qt[0],Gt=qt[1],Rt=l.a.useState([]),Ut=Object(n.a)(Rt,2),Vt=Ut[0],Jt=Ut[1];l.a.useEffect(()=>()=>p(),[p]),l.a.useEffect(()=>{var t=e&&e.dateFrom?new Date(e.dateFrom):new Date((new Date).setHours((new Date).getHours()-1)),n=e&&e.dateTo?new Date(e.dateTo):new Date;if(e.chart){var l=e.chart.map(t=>t.values.map(t=>t.y)),r=l.map(t=>Math.max(...t)),i=l.map(t=>Math.min(...t)),c=Math.max(...r),s=Math.min(...i);Math.abs(s)!==1/0&&Math.abs(c)!==1/0&&tt([s,c]),_(e.chart),E(!1)}else f({station:a,measures:e.listParameters.map(t=>"".concat(o,"_").concat(t.tag,"_").concat(t.uom)),from:t.getTime(),to:n.getTime()},a,o,e.id,h);ot([t,n]),P(e),Z({dateFrom:t,dateTo:n})},[a,o,e,h,f]),l.a.useEffect(()=>{if(JSON.stringify(m)!==JSON.stringify(J)){var t=[];m.forEach(e=>{e.tagList.forEach(e=>{t.findIndex(t=>t.tagAcn===e.tagAcn)<0&&t.push(e)})}),Ct(m.map(t=>({key:t.idPage,value:t.idUI}))),Tt(m[0].idPage),H(m),Bt(t),Gt(t),At(m[0].tagList)}},[m,J]),l.a.useEffect(()=>{J&&(Tt(J[0].idPage),At(J[0].tagList),Gt(Nt))},[vt,J,Nt]),l.a.useEffect(()=>{if(Nt.length>0){var t=A.listParameters.map(t=>Nt.find(e=>e.tagAcn===t.tag)||{labelTable:"-",labelTooltip:"-",labelTrend:"-",tagAcn:t.tag,tagCliente:"-",tagUi:"-",tagVendor:"-",uom:"-"});R(t)}},[Nt,A]),l.a.useEffect(()=>{if(b){var t=b.map(t=>t.values.map(t=>t.y)),e=t.map(t=>Math.max(...t)),a=t.map(t=>Math.min(...t)),n=Math.max(...e),o=Math.min(...a);Math.abs(o)!==1/0&&Math.abs(n)!==1/0&&tt([o,n]);var l=Wt(A.sliders?A.sliders.filter(t=>"verticalSliders"===t.type):[],b);_(b),Jt(l),E(!1)}},[b,A]);var Ht=t=>{var e=Object(yt.a)({},A);e.comments=t,P(e)},Kt=t=>{var e=Object(yt.a)({},A);e.sliders=t;var a=Wt(t.filter(t=>"verticalSliders"===t.type),B);Jt(a),P(e)},Wt=(t,e)=>{var a=[];return t.forEach(t=>{var n={name:t.id,value:t.x,listParam:[]};t.x>=nt[0]&&t.x<=nt[1]?e.forEach(e=>{var a=e.values,o=a.reduce((function(e,a,n,o){return n&&Math.abs(o[e].x-t.x)<Math.abs(a.x-t.x)?e:n}),-1),l=e.name.split("_");n.listParam.push({param:l.length>0?l[1]:l,value:o>=0?a[o].y:null})}):n.listParam=Vt.find(t=>t.name===n.name)&&Vt.find(t=>t.name===n.name).listParam,a.push(n)}),a},Xt=t=>{var e,a=(e=t.target.value,[...Nt].filter(t=>t.tagCliente.toLowerCase().includes(e.toLowerCase())));a&&Gt(a)},Zt=t=>{At(J.find(e=>e.idPage===t).tagList)},Yt=t=>{var e=[...G];return e.length>0?t.uom===e[0].uom&&(e.push(t),R(e),$t(e),!0):(e.push(t),R(e),$t(e),!0)},$t=t=>{E(!0),g({station:a,measures:t.map(t=>"".concat(o,"_").concat(t.tagAcn,"_").concat(t.uom)),from:X.dateFrom.getTime(),to:X.dateTo.getTime()})},Qt=A&&A.listParameters.length>0&&Object(D.h)(A.listParameters[0].uom),te=G?G.map(t=>({tag:t.tagAcn,color:Object(D.a)(t.uom),label:t.labelTrend,uom:Object(D.h)(t.uom)})):[];return l.a.createElement(i.s,{showModal:c,onClose:()=>r(!1),input:{value:T,placeholder:"Nome trend",onChange:t=>{L(!1),w(t.target.value)},error:C},actionButton:[{text:"Salva Trend",icon:"save",action:()=>{var t=Object(yt.a)({},A);T.length>0?(t.name=T,t.dateFrom=X.dateFrom.getTime(),t.dateTo=X.dateTo.getTime(),t.listParameters=G.map(t=>({tag:t.tagAcn,uom:t.uom})),t.chart=B,d(t,s)):L(!0)}}]},l.a.createElement(i.B,{itemsTab:[{text:"Serie dati",key:"chart",action:()=>ft("chart")},{text:"Modifica serie dati",key:"dataSet",action:()=>ft("dataSet")}],currentTab:gt},l.a.createElement(i.j,{classStyle:"margin-left-32",padding:"0",filters:{dateFrom:X.dateFrom.getTime(),dateTo:X.dateTo.getTime()},changeFilters:t=>{var e=t.dateFrom.getTime(),n=t.dateTo.getTime();Z(t),ot([e,n]),E(!0),g({station:a,measures:G.map(t=>"".concat(o,"_").concat(t.tagAcn,"_").concat(t.uom)),from:t.dateFrom.getTime(),to:t.dateTo.getTime()})}})),(t=>{switch(t){case"chart":return l.a.createElement(l.a.Fragment,null,l.a.createElement(i.j,{actions:[{label:"Zoom Area",active:it,icon:it?"zoomBlue":"zoomPlus",action:()=>{mt(!1),ct(!it)}},{label:"Attiva Commenti",active:dt,icon:A&&A.comments?"iconaCommentiPallino":"iconaCommenti",action:()=>{ct(!1),mt(!dt)}},{label:"Download",icon:"download",tooltipMenu:[{icon:"download",label:"Download JPG",action:()=>{console.log("Download JPG")}},{icon:"download",label:"Download CSV",action:()=>{u([{station:a,fileName:T,measures:G.map(t=>"".concat(o,"_").concat(t.tagAcn,"_").concat(t.uom)),from:X.dateFrom.getTime(),to:X.dateTo.getTime()}])}}]}]}),l.a.createElement("div",null,l.a.createElement(i.h,{idSelector:"#cartesian-trend-modal-".concat(a,"-").concat(o,"-").concat(A.id),loading:j,data:B,height:300,xDomain:nt,yDomain:Q,xLabel:"t",yLabel:Qt,xUnit:"t",yUnit:Qt,margin:{top:32,right:40,bottom:44,left:40},colors:D.a,onHover:!0,comments:A.comments,sliders:A.sliders,zoomActive:it,commentsActive:dt,slidersActive:!0,onChangeZoomActive:()=>ct(!1),onChangecommentsActive:()=>mt(!1),onSaveComments:Ht,onSaveSliders:Kt,findTooltipLabel:t=>Object(D.d)(Nt,t)})),l.a.createElement("div",{className:"padding-16"},l.a.createElement(i.k,{itemsTable:te,dataTable:Vt})));case"dataSet":return l.a.createElement("div",{className:"dflex padding-16"},l.a.createElement(i.F,{title:"Selezione dati"},l.a.createElement(i.B,{itemsTab:[{text:"Per pagina",key:"forPage",action:()=>jt("forPage")},{text:"Per tag",key:"forTags",action:()=>jt("forTags")}],currentTab:vt,borderTab:"none"}),(t=>{switch(t){case"forPage":return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"padding-left-16 padding-right-16"},l.a.createElement(i.t,{valueActive:xt,options:Mt,onChange:Zt})),l.a.createElement(i.E,{classStyle:"margin-top-16",tags:kt,isChecked:t=>G.findIndex(e=>e.tagAcn===t.tagAcn)>=0,actiontag:t=>Yt(t),icons:["iconaAdded","addIcon"]}));case"forTags":return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"dflex padding-left-16 padding-right-16"},l.a.createElement(i.m,{height:18,onChange:Xt})),l.a.createElement(i.E,{classStyle:"margin-top-16",tags:zt,isChecked:t=>G.findIndex(e=>e.tagAcn===t.tagAcn)>=0,actiontag:t=>Yt(t),icons:["iconaAdded","addIcon"]}));default:return l.a.createElement(i.q,null)}})(vt)),l.a.createElement(i.F,{title:"Dati sul grafico (".concat(G&&G.length,")")},l.a.createElement(i.E,{tags:G,actiontag:t=>(t=>{var e=[...G];return e.length>0?t.uom===e[0].uom&&(e=e.filter(e=>e.tagAcn!==t.tagAcn),R(e),$t(e),!0):(e=e.filter(e=>e.tagAcn!==t.tagAcn),R(e),$t(e),!0)})(t),icons:["iconaDelete","iconaDelete"],showLayerAdd:!0})));default:return l.a.createElement(i.q,null)}})(gt))};Mt.defaultProps={dataTrend:{},saveTrend:()=>{},labels:null};l.a.memo(Mt,(t,e)=>Object(D.k)(t,e));var Ct=t=>{var e=t.station,a=t.tcs,o=t.showModal,r=t.onCloseModal,c=t.trendsTC,s=t.getTrendCSV,u=l.a.useState(c),d=Object(n.a)(u,2),m=d[0],b=d[1],h=l.a.useState([]),g=Object(n.a)(h,2),f=g[0],p=g[1],O=l.a.useState({dateFrom:new Date((new Date).setDate((new Date).getDate()-1)),dateTo:new Date}),v=Object(n.a)(O,2),j=v[0],E=v[1];l.a.useEffect(()=>{var t=[...c].map(t=>Object(yt.a)(Object(yt.a)({},t),{isVisible:!0}));b(t)},[c]);return l.a.createElement(i.s,{title:"Download CSV",showModal:o,onClose:()=>r(!1),maxWidth:"688px"},l.a.createElement(i.j,{filters:j,changeFilters:E,isButton:!1}),l.a.createElement(i.D,{searchInput:{placeholder:"Cerca trend per nome",onChange:t=>{var e,a,n=(e=t.target.value,a=c,[...a].map(t=>{var a=Object(yt.a)({},t);return t.name.toLowerCase().includes(e.toLowerCase())?a.isVisible=!0:a.isVisible=!1,a}));b(n)}},trendsFiltered:m,checkList:f,handleChangeCheckList:(t,e)=>{var a=[...f];t.target.checked?(a.findIndex(t=>t.id===e.id)<0||0===a.length)&&(a.push(e),p(a)):a.findIndex(t=>t.id===e.id)>=0&&p(a.filter(t=>t.id!==e.id))},button:{action:()=>{var t=f.map(t=>({station:e,fileName:t.name,measures:t.listParameters.map(t=>"".concat(a,"_").concat(t.tag,"_").concat(t.uom)),from:j.dateFrom.getTime(),to:j.dateTo.getTime()}));s(t)},title:"Scarica il CSV"}}))};Ct.defaultProps={station:"",tcs:"",showModal:!1,onCloseModal:()=>{},trendsTC:[],getTrendCSV:()=>{}};function Lt(){var t=Object(c.a)(["\n\tborder-bottom: solid 1px ",";\n\tbackground-color:  ",";\n\tcursor: pointer;\n\t.title {\n\t\twidth: 30%;\n\t\tpadding: 16px 8px;\n\t\tborder-right: solid 1px ",";\n\t\tfont-size: 1em;\n\t\tfont-weight: 500;\n\t\tcolor: ",";\n\t}\n\t.detail {\n\t\tpadding: 16px 8px;\n\t\tflex-grow: 1;\n\t\tbutton {\n\t\t\tbackground: transparent;\n\t\t\tborder: none;\n\t\t\tcursor: pointer;\n\t\t}\n\t}\n\n\t&:last-of-type {\n\t\tborder-bottom: none;\n\t}\n\t\n\t&:hover {\n\t\tbackground: ",";\n\t}\n"]);return Lt=function(){return t},t}function It(){var t=Object(c.a)(["\n\tborder-radius: 4px;\n\tborder: solid 1px ",";\n\tbackground-color:  ",";\n"]);return It=function(){return t},t}s.c.div(It(),t=>t.theme.colors.colorChambray,t=>t.theme.colors.colorTarawera),s.c.div(Lt(),t=>t.theme.colors.colorChambray,t=>t.theme.colors.colorTarawera,t=>t.theme.colors.colorChambray,t=>t.theme.colors.white,t=>t.theme.colors.colorWedgewood)},566:function(t,e,a){}}]);