(this.webpackJsonproot=this.webpackJsonproot||[]).push([[8],{811:function(e,a,t){"use strict";t.r(a);var s=t(15),l=t(12),r=t(0),c=t.n(r),h=t(24),n=t(80),i=t(59),u=t(32),d=t(65),o=t(39),g=t(38),b=t(795),p=t(14);var m={configureLabels:({data:e,tcs:a,labels:t,thresholds:s,typeTag:l="tagCliente"})=>{if(e)switch(a){case"3":return{values:Object(p.H)({data:e,labels:t,thresholds:s,typeTag:l}),labels:t.chartLabels,imagesChart:[{url:"schemeExhaustSpacesWheel",w:523,h:270,y:32,x:186,property:"schemeExhaustSpacesWheel"}]};default:return null}return null},configureDataTable:({data:e,tcs:a,labels:t,getChart:s,thresholds:l,typeTag:r="tagCliente"})=>{if(e)switch(a){case"3":{const a=a=>s(a.id,Object(p.c)(e,a.dataChart,t,r),a.uom,a.width,a.height);return Object(p.F)({data:e,labels:t,thresholds:l,typeTag:r,drawChart:a})}default:return null}return null},getDimesionDraw:e=>{switch(e){case"3":return{width:858,height:322,minScale:1,maxScale:1.3};default:return null}}};var f={configureLabels:({data:e,tcs:a,labels:t,thresholds:s,typeTag:l="tagCliente"})=>{if(e)switch(a){case"3":case"4":case"5":return{values:Object(p.H)({data:e,labels:t,thresholds:s,typeTag:l}),labels:t.chartLabels,imagesChart:[{url:"schemeExhaustSpacesWheel",w:523,h:270,y:32,x:186,property:"schemeExhaustSpacesWheel"}]};default:return null}return null},configureDataTable:({data:e,tcs:a,labels:t,getChart:s,thresholds:l,typeTag:r="tagCliente"})=>{if(e)switch(a){case"3":case"4":case"5":{const a=a=>s(a.id,Object(p.c)(e,a.dataChart,t,r),a.uom,a.width,a.height);return Object(p.F)({data:e,labels:t,thresholds:l,typeTag:r,drawChart:a})}default:return null}return null},getDimesionDraw:e=>{switch(e){case"3":case"4":case"5":return{width:858,height:322,minScale:1,maxScale:1.3};default:return null}}};var w={configureLabels:({data:e,tcs:a,labels:t,thresholds:s,typeTag:l="tagCliente"})=>{if(e)switch(a){case"1":case"2":case"3":return{values:Object(p.H)({data:e,labels:t,thresholds:s,typeTag:l}),labels:t.chartLabels,imagesChart:[{url:"schemaScarichiSpaziMasera",w:540,h:373,y:32,x:32,property:"schemaScarichiSpaziMasera"}]};default:return null}return null},configureDataTable:({data:e,tcs:a,labels:t,getChart:s,thresholds:l,typeTag:r="tagCliente"})=>{if(e)switch(a){case"1":case"2":case"3":const a=a=>s(a.id,Object(p.c)(e,a.dataChart,t,r),a.uom,a.width,a.height);return Object(p.F)({data:e,labels:t,thresholds:l,typeTag:r,drawChart:a});default:return null}return null},getDimesionDraw:e=>{switch(e){case"1":case"2":case"3":return{width:747,height:437,minScale:1,maxScale:1};default:return null}}};var y={configureLabels:({data:e,tcs:a,labels:t,thresholds:s,typeTag:l="tagCliente"})=>{if(e)switch(a){case"3":case"4":case"5":return{values:Object(p.H)({data:e,labels:t,thresholds:s,typeTag:l}),labels:t.chartLabels,imagesChart:[{url:"schemeExhaustSpacesWheel",w:523,h:270,y:32,x:186,property:"schemeExhaustSpacesWheel"}]};default:return null}return null},configureDataTable:({data:e,tcs:a,labels:t,getChart:s,thresholds:l,typeTag:r="tagCliente"})=>{if(e)switch(a){case"3":case"4":case"5":{const a=a=>s(a.id,Object(p.c)(e,a.dataChart,t,r),a.uom,a.width,a.height);return Object(p.F)({data:e,labels:t,thresholds:l,typeTag:r,drawChart:a})}default:return null}return null},getDimesionDraw:e=>{switch(e){case"3":case"4":case"5":return{width:858,height:322,minScale:1,maxScale:1.3};default:return null}}};var S={configureLabels:({data:e,tcs:a,labels:t,thresholds:s,typeTag:l="tagCliente"})=>{if(e)switch(a){case"1":case"2":return{values:Object(p.H)({data:e,labels:t,thresholds:s,typeTag:l}),labels:t.chartLabels,imagesChart:[{url:"schemaScarichiSpaziMasera",w:540,h:373,y:32,x:32,property:"schemaScarichiSpaziMasera"}]};case"3":return{values:Object(p.H)({data:e,labels:t,thresholds:s,typeTag:l}),labels:t.chartLabels,imagesChart:[{url:"schemeExhaustSpacesWheel",w:523,h:270,y:32,x:186,property:"schemeExhaustSpacesWheel"}]};default:return null}return null},configureDataTable:({data:e,tcs:a,labels:t,getChart:s,thresholds:l,typeTag:r="tagCliente"})=>{if(e)switch(a){case"1":case"2":case"3":{const a=a=>s(a.id,Object(p.c)(e,a.dataChart,t,r),a.uom,a.width,a.height,a.domain,a.ticks);return Object(p.F)({data:e,labels:t,thresholds:l,typeTag:r,drawChart:a})}default:return null}return null},getDimesionDraw:e=>{switch(e){case"1":case"2":return{width:747,height:437,minScale:1,maxScale:1};case"3":return{width:868,height:342,minScale:1,maxScale:1.3};default:return null}}};var C={configureLabels:({data:e,tcs:a,labels:t,thresholds:s,typeTag:l="tagCliente"})=>{if(e)switch(a){case"5":return{values:Object(p.H)({data:e,labels:t,thresholds:s,typeTag:l}),labels:t.chartLabels,imagesChart:[{url:"schemeExhaustSpacesWheel",w:523,h:270,y:32,x:186,property:"schemeExhaustSpacesWheel"}]};default:return null}return null},configureDataTable:({data:e,tcs:a,labels:t,getChart:s,thresholds:l,typeTag:r="tagCliente"})=>{if(e)switch(a){case"5":{const a=a=>s(a.id,Object(p.c)(e,a.dataChart,t,r),a.uom,a.width,a.height);return Object(p.F)({data:e,labels:t,thresholds:l,typeTag:r,drawChart:a})}default:return null}return null},getDimesionDraw:e=>{switch(e){case"5":return{width:868,height:342,minScale:1,maxScale:1.3};default:return null}}};var T={configureLabels:({data:e,tcs:a,labels:t,thresholds:s,typeTag:l="tagCliente"})=>{if(e)switch(a){case"1":case"2":return{values:Object(p.H)({data:e,labels:t,thresholds:s,typeTag:l}),labels:t.chartLabels,imagesChart:[{url:"schemeExhaustSpacesWheel",w:523,h:270,y:32,x:186,property:"schemeExhaustSpacesWheel"}]};default:return null}return null},configureDataTable:({data:e,tcs:a,labels:t,getChart:s,thresholds:l,typeTag:r="tagCliente"})=>{if(e)switch(a){case"1":case"2":{const a=a=>s(a.id,Object(p.c)(e,a.dataChart,t,r),a.uom,a.width,a.height);return Object(p.F)({data:e,labels:t,thresholds:l,typeTag:r,drawChart:a})}default:return null}return null},getDimesionDraw:e=>{switch(e){case"1":case"2":return{width:868,height:342,minScale:1,maxScale:1.3};default:return null}}};var O={configureLabels:({data:e,tcs:a,labels:t,thresholds:s,typeTag:l="tagCliente"})=>{if(e)switch(a){case"3":case"4":case"5":return{values:Object(p.H)({data:e,labels:t,thresholds:s,typeTag:l}),labels:t.chartLabels,imagesChart:[{url:"schemeExhaustSpacesWheel",w:523,h:270,y:32,x:186,property:"schemeExhaustSpacesWheel"}]};default:return null}return null},configureDataTable:({data:e,tcs:a,labels:t,getChart:s,thresholds:l,typeTag:r="tagCliente"})=>{if(e)switch(a){case"3":case"4":case"5":{const a=a=>s(a.id,Object(p.c)(e,a.dataChart,t,r),a.uom,a.width,a.height);return Object(p.F)({data:e,labels:t,thresholds:l,typeTag:r,drawChart:a})}default:return null}return null},getDimesionDraw:e=>{switch(e){case"3":case"4":case"5":return{width:858,height:322,minScale:1,maxScale:1.3};default:return null}}};var j={configureLabels:({data:e,tcs:a,labels:t,thresholds:s,typeTag:l="tagCliente"})=>{if(e)switch(a){case"7":return{values:Object(p.H)({data:e,labels:t,thresholds:s,typeTag:l}),labels:t.chartLabels,imagesChart:[{url:"schemeExhaustSpacesWheel",w:523,h:270,y:32,x:186,property:"schemeExhaustSpacesWheel"}]};case"3":case"4":return{values:Object(p.H)({data:e,labels:t,thresholds:s,typeTag:l}),labels:t.chartLabels,imagesChart:[{url:"schemaScarichiSpaziMasera",w:540,h:373,y:32,x:32,property:"schemaScarichiSpaziMasera"}]};default:return null}return null},configureDataTable:({data:e,tcs:a,labels:t,getChart:s,thresholds:l,typeTag:r="tagCliente"})=>{if(e)switch(a){case"3":case"4":case"7":{const a=a=>s(a.id,Object(p.c)(e,a.dataChart,t,r),a.uom,a.width,a.height);return Object(p.F)({data:e,labels:t,thresholds:l,typeTag:r,drawChart:a})}default:return null}return null},getDimesionDraw:e=>{switch(e){case"3":case"4":case"7":return{width:747,height:437,minScale:1,maxScale:1.3};default:return null}}};var D={configureLabels:({data:e,tcs:a,labels:t,thresholds:s,typeTag:l="tagCliente"})=>{if(e)switch(a){case"1":case"2":case"3":return{values:Object(p.H)({data:e,labels:t,thresholds:s,typeTag:l}),labels:t.chartLabels,imagesChart:[{url:"schemaScarichiSpaziMessinaTC123",w:517,h:241,y:47,x:186,property:"schemaScarichiSpaziMessinaTC123"}]};case"4":return{values:Object(p.H)({data:e,labels:t,thresholds:s,typeTag:l}),labels:t.chartLabels,imagesChart:[{url:"schemeExhaustSpacesWheel",w:523,h:270,y:32,x:186,property:"schemeExhaustSpacesWheel"}]};case"5":case"6":return{values:Object(p.H)({data:e,labels:t,thresholds:s,typeTag:l}),labels:t.chartLabels,imagesChart:[{url:"schemeExhaustSpacesWheel",w:523,h:270,y:32,x:186,property:"schemeExhaustSpacesWheel"}]};default:return null}return null},configureDataTable:({data:e,tcs:a,labels:t,getChart:s,thresholds:l,typeTag:r="tagCliente"})=>{if(e)switch(a){case"1":case"2":case"3":case"4":case"5":case"6":{const a=a=>s(a.id,Object(p.c)(e,a.dataChart,t,r),a.uom,a.width,a.height);return Object(p.F)({data:e,labels:t,thresholds:l,typeTag:r,drawChart:a})}default:return null}return null},getDimesionDraw:e=>{switch(e){case"1":case"2":case"3":case"4":case"5":case"6":return{width:858,height:322,minScale:.9,maxScale:1.3};default:return null}}};var x={configureLabels:({data:e,tcs:a,labels:t,thresholds:s,typeTag:l="tagCliente"})=>{if(e)switch(a){case"1":case"2":case"3":case"4":return{values:Object(p.H)({data:e,labels:t,thresholds:s,typeTag:l}),labels:t.chartLabels,imagesChart:[{url:"schemeExhaustSpacesWheel",w:523,h:270,y:32,x:186,property:"schemeExhaustSpacesWheel"}]};default:return null}return null},configureDataTable:({data:e,tcs:a,labels:t,getChart:s,thresholds:l,typeTag:r="tagCliente"})=>{if(e)switch(a){case"1":case"2":case"3":case"4":const a=a=>s(a.id,Object(p.c)(e,a.dataChart,t,r),a.uom,a.width,a.height);return Object(p.F)({data:e,labels:t,thresholds:l,typeTag:r,drawChart:a});default:return null}return null},getDimesionDraw:e=>{switch(e){case"1":case"2":case"3":case"4":return{width:858,height:322,minScale:1,maxScale:1.3};default:return null}}};var v={configureLabels:({data:e,tcs:a,labels:t,thresholds:s,typeTag:l="tagCliente"})=>{if(e)switch(a){case"1":case"2":return{values:Object(p.H)({data:e,labels:t,thresholds:s,typeTag:l}),labels:t.chartLabels,imagesChart:[{url:"schemaScarichiSpaziMasera",w:540,h:373,y:32,x:32,property:"schemaScarichiSpaziMasera"}]};default:return null}return null},configureDataTable:({data:e,tcs:a,labels:t,getChart:s,thresholds:l,typeTag:r="tagCliente"})=>{if(e)switch(a){case"1":case"2":{const a=a=>s(a.id,Object(p.c)(e,a.dataChart,t,r),a.uom,a.width,a.height,a.domain,a.ticks);return Object(p.F)({data:e,labels:t,thresholds:l,typeTag:r,drawChart:a})}default:return null}return null},getDimesionDraw:e=>{switch(e){case"1":case"2":return{width:747,height:437,minScale:1,maxScale:1.3};default:return null}}};var E=e=>{switch(p.B[e]){case"BO":return m;case"MB":return f;case"MS":return w;case"IS":return y;case"CO":return S;case"S1":return C;case"RP":return T;case"GA":return O;case"M1":return j;case"ME":return D;case"MM":return x;case"SB":return v;default:return null}};function L(e){const a=e.stations,t=e.match,r=e.title,n=e.login,u=e.dispatchConnectionMQTT,d=e.keyTopik,o=e.labels,g=e.dispatchGetLabels,m=e.dispatchCheckOldData,f=e.dispatchGetthresholds,w=e.dispatchGetthreshold,y=e.thresholds,S=e.dispatchEditthresholds,C=e.statusResponse,T=e.dispatchresetResetStatusResponseThresholds,O=t.params.idtcs,j=t.params.id,D=c.a.useState(null),x=Object(l.a)(D,2),v=x[0],L=x[1],M=c.a.useState(null),k=Object(l.a)(M,2),W=k[0],H=k[1],z=Object(p.J)(null),F=Object(l.a)(z,2),B=F[0],J=F[1],N=c.a.useState(!1),R=Object(l.a)(N,2),A=R[0],I=R[1],_=c.a.useState(!1),G=Object(l.a)(_,2),q=G[0],P=G[1],Q=c.a.useState(null),K=Object(l.a)(Q,2),U=K[0],V=K[1],X=c.a.useState(null),Y=Object(l.a)(X,2),Z=Y[0],$=Y[1],ee=c.a.useState(null),ae=Object(l.a)(ee,2),te=ae[0],se=ae[1],le=c.a.useState(null),re=Object(l.a)(le,2),ce=re[0],he=re[1],ne=c.a.useState(null),ie=Object(l.a)(ne,2),ue=ie[0],de=ie[1],oe=c.a.useState(null),ge=Object(l.a)(oe,2),be=ge[0],pe=ge[1];c.a.useEffect(()=>{if(j!==W||O!==v){L(O),H(j),se(null),he(null),de(null),V(null),$(null),P(!1),I(!1),m(j,O);let e=setInterval(()=>{m(j,O)},p.e.checkOld5Time);pe(e)}return()=>clearInterval(be)},[O,j,W,v,be,pe,m]),c.a.useEffect(()=>{p.B[W]&&p.B[W]!==d&&n.ridp&&u(n.ridp,p.B[W])},[W,d,n.ridp,u]),c.a.useEffect(()=>{if(W&&p.B[W]&&v){const e=Object(p.m)(o,W,v,"scarichi_e_spazi"),a=Object(p.m)(o,W,v,"sidebar_dx"),t=e&&[...e.tagList.map(e=>{const a=Object(s.a)({},e);return a.tagAcn="".concat(v,"_").concat(e.tagAcn),a}),...a.tagList];if(e){if(JSON.stringify(e)!==JSON.stringify(te)&&se(e),JSON.stringify(a)!==JSON.stringify(ce)&&he(a),JSON.stringify(ue)!==JSON.stringify(t)){de(t);const e=t.filter(e=>"1A"!==e.uom).map(e=>e.tagAcn);f({station:p.B[W],tags:e})}}else g({station:p.B[W],idTC:v})}},[o,W,v,te,g,ce,ue,w,f]),c.a.useEffect(()=>{const e=Object(p.p)(a,W),t=Object(p.r)(a,W,v);t&&J({tcName:t?t.name:"",tcData:t,station:e})},[a,W,v,te,J]),c.a.useEffect(()=>(document.body.addEventListener("keydown",e=>me(e)),()=>document.body.removeEventListener("keydown",e=>me(e))),[]),c.a.useEffect(()=>{y&&JSON.stringify(y)!==JSON.stringify(Z)&&$(y)},[y,Z]);const me=e=>{27===e.keyCode&&(document.querySelector(".show.modal-thresholds")?P(!1):I(!1))},fe=e=>{e.split("_").length>1?V(e):V("".concat(v,"_").concat(e)),P(!q)},we=B.stationData?B.stationData.name:"",ye=B.turbochargerName?B.turbochargerName:"";let Se=Object(p.A)(W)&&E(W);const Ce=[{key:"filters",onClick:()=>I(!A)}],Te=Object(p.h)({key:"tbd",title:r,url:t.url,nameStation:we,nameTCS:ye,currentStationId:W,currentTurbochargerId:v});return c.a.createElement(b.k,{stations:a,pageCurrent:t,stationActive:W,tcsActive:v,pathsMenu:[{key:"panoramicaTcs",title:c.a.createElement(h.a,{id:"panoramica_tc"}),url:"/panoramicaStazione/".concat(W,"/panoramicaTCS/").concat(v),active:!1},{key:"trend",title:c.a.createElement(h.a,{id:"trend"}),url:"/panoramicaStazione/".concat(W,"/panoramicaTCS/").concat(v,"/trend"),active:!1},{key:"avvisiTcs",title:c.a.createElement(h.a,{id:"avvisi"}),url:"/panoramicaStazione/".concat(W,"/panoramicaTCS/").concat(v,"/avvisi"),active:!1}],accordionMenu:p.e.urlAccordionMenu(W,v)},c.a.createElement(i.f,{showTreshold:{show:A,message:"Modalit\xe0 gestione soglie attiva, clicca su un dato per poterle settare o usa il tasto esc per uscire"}},c.a.createElement(i.e,{paths:Te}),c.a.createElement(i.b,{icons:Ce})),c.a.createElement(b.g,{accordionData:[Object(p.n)(B.stationData&&B.stationData.data,ce&&ce.environmentData,ce&&ce.tagList,"environment",Z),Object(p.n)(B.stationData&&B.stationData.data,ce&&ce.tcsData,ce&&ce.tagList,"tc",Z),Object(p.n)(B.stationData&&B.stationData.data,ce&&ce.cemsData,ce&&ce.tagList,"cems",Z),Object(p.n)(B.stationData&&B.stationData.data,ce&&ce.gasData,ce&&ce.tagList,"gas",Z)],isThresholds:A,changeOpenModal:fe},Se?c.a.createElement(b.c,{data:B.turbochargerData,labels:te,configurations:E(W),stationId:W,turbochargerId:v,isThresholds:A,thresholds:Z,changeOpenModal:fe}):c.a.createElement(i.t,null)),c.a.createElement(b.j,{showModal:q,closeModal:P,onSave:e=>{const a={station:p.B[W],tags:[e.tag]};S(a,[e])},statusResponse:C,resetResponseApi:()=>T(),userRole:n.role,searchTag:U,thresholds:Z,labels:ue}))}L.defaultProps={stations:[]};a.default=Object(n.b)(e=>({thresholds:e.thresholds.thresholds,statusResponse:e.thresholds.statusResponse,keyTopik:e.mqtt.keyTopik,labels:e.labels.labels}),e=>({dispatchGetthresholds:a=>e(Object(g.j)(a)),dispatchEditthresholds:(a,t)=>e(Object(g.i)(a,t)),dispatchresetResetStatusResponseThresholds:()=>e(Object(g.k)()),dispatchConnectionMQTT:(a,t)=>e(Object(u.j)(a,t)),dispatchGetLabels:a=>e(Object(d.d)(a)),dispatchCheckOldData:(a,t)=>e(Object(o.g)(a,t))}))(L)}}]);