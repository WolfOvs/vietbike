(this.webpackJsonproot=this.webpackJsonproot||[]).push([[1],{795:function(e,t,a){"use strict";a.d(t,"k",(function(){return w})),a.d(t,"i",(function(){return v})),a.d(t,"n",(function(){return B})),a.d(t,"q",(function(){return V})),a.d(t,"o",(function(){return de})),a.d(t,"v",(function(){return z})),a.d(t,"w",(function(){return R})),a.d(t,"g",(function(){return fe})),a.d(t,"m",(function(){return U})),a.d(t,"l",(function(){return K})),a.d(t,"h",(function(){return G})),a.d(t,"b",(function(){return W})),a.d(t,"f",(function(){return q})),a.d(t,"r",(function(){return xe})),a.d(t,"c",(function(){return Z})),a.d(t,"p",(function(){return Y})),a.d(t,"d",(function(){return $})),a.d(t,"e",(function(){return Q})),a.d(t,"a",(function(){return ee})),a.d(t,"j",(function(){return Me})),a.d(t,"s",(function(){return Ce})),a.d(t,"t",(function(){return ke})),a.d(t,"u",(function(){return Ne}));var n=a(12),o=a(0),c=a.n(o),l=a(804),r=a(59),s=a(3),i=a(2);function u(){const e=Object(s.a)(["\n\t\n"]);return u=function(){return e},e}function d(){const e=Object(s.a)(["\n\tposition: relative;\n\tflex-grow: 1;\n\t// background: linear-gradient(",", ",");\n\tbackground-image: linear-gradient(to bottom, ",", "," 35%);\n\t@media(max-width: ","px) {\n\t\torder: 1;\n\t}\n"]);return d=function(){return e},e}function m(){const e=Object(s.a)(["\n\tdisplay:block;\n\tposition:absolute;\n\ttop: 40px;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tbackground-color: ",";\n\topacity: 0.9;\n\tz-index: 99999;\n\t~ .body-container {\n\t\t.select-ui {\n\t\t\tpointer-events: none;\n\t\t}\n\t}\n"]);return m=function(){return e},e}function h(){const e=Object(s.a)(["\n\t\t\tposition: relative;\n\t\t\ttop: 0px;\n\t"]);return h=function(){return e},e}function b(){const e=Object(s.a)(["\n\tposition: relative;\n\twidth: 120px;\n\tleft: 0;\n\tbackground-color: ",";\n\tdiplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tpadding: 40px 0px;\n\n\t",";\n\n\t\n\n\t@media(max-width: ","px) {\n\t\tposition: fixed;\n\t\ttop: 56px;\n\t\tleft: ",";\n\t\tbottom: 0;\n\t\tright: 0;\n\t\twidth: ",";\n\t\theight: 100%;\n\t\tbackground: ",";\n\t}\n"]);return b=function(){return e},e}function g(){const e=Object(s.a)(["\n\tposition: relative;\n\tflex-grow: 1;\n\toverflow: hidden;\n\tbackground: ",";\n\t@media(max-width: ","px) {\n\t\tflex-direction: column;\n\t\toverflow-y: ",";\n\t}\n"]);return g=function(){return e},e}function f(){const e=Object(s.a)(["\n\tflex-direction: column;   \n\theight: 100vh;\n"]);return f=function(){return e},e}const p=i.c.div(f()),O=i.c.section(g(),e=>e.theme.colors.darkBlueGrey,e=>e.theme.constants.BREAKPOINT_MOBILE,e=>e.isOpenMenu?"hidden":"auto"),j=i.c.div(b(),e=>e.theme.colors.colorBlueNavy,e=>!0===e.isInHome&&Object(i.b)(h()),e=>e.theme.constants.BREAKPOINT_MOBILE,e=>e.isOpen?"0":"-100%",e=>e.isOpen?"100%":"0",e=>e.theme.colors.shadow),E=i.c.div(m(),e=>e.theme.colors.colorPrussianBlue),x=i.c.section(d(),e=>e.theme.colors.colorBlueWale,e=>e.theme.colors.colorRegularBlue,e=>e.theme.colors.colorBlueWale,e=>e.theme.colors.colorRegularBlue,e=>e.theme.constants.BREAKPOINT_MOBILE),S=i.c.section(u());function T(e){const t=e.children,a=(e.stations,e.pathsMenu,e.stationActive,e.pageCurrent),o=(e.tcsActive,e.accordionMenu,e.history),l=e.isOpenNotification,r=e.actionNotification,s="/"===a.url;const i=c.a.useState(s),u=Object(n.a)(i,2),d=u[0],m=u[1];return c.a.createElement(p,{className:"dflex"},c.a.createElement(O,{className:"dflex",isOpenMenu:d},d&&!s&&c.a.createElement(E,{onClick:()=>{m(!d)}}),c.a.createElement(j,{className:"dflex dflex__col",isOpen:d,isInHome:s},c.a.createElement(B,{onClickLogo:()=>o.push("/")})),c.a.createElement(x,{className:"dflex dflex__col dflex__col--big body-container"},t),c.a.createElement(S,null,l&&c.a.createElement(de,{action:r}))))}T.defaultProps={};var w=Object(l.a)(T);a(799);var v=Object(l.a)((function({history:e,stations:t,filters:a}){const o=function(){const e=c.a.useState([]),t=Object(n.a)(e,2),a=t[0],o=t[1];return[a,function(e,{spinta:t,stoccaggio:n}){let c=[...a];e.forEach((e,a)=>{0===e.type&&(c[a]=t),1===e.type&&(c[a]=n)}),o(c)},function(e){let t=[];e.forEach(e=>t.push(!0)),o([...t])}]}(),l=Object(n.a)(o,3),s=l[0],i=l[1],u=l[2];return c.a.useEffect(()=>{t&&t.length>0&&u(t)},[t]),c.a.useEffect(()=>{if(t){const e=a.spinta,n=a.stoccaggio;i(t,{spinta:e,stoccaggio:n})}console.log("markers",t)},[a]),c.a.createElement(r.u,{stations:t||[],visibilityStations:s,position:[43.46,11.15],history:e})})),D=a(14);function M(){const e=Object(s.a)(["\n\tdisplay: block;\n\tdisplay: flex;\n\tjustify-content: center;\n\tflex-direction: column;\n\talign-items: center;\n\twidth:100%;\n\n\t&::before {\n\t\tdisplay: block;\n\t\tcontent: '';\n\t\theight: 100px;\n\t\twidth: 10px;\n\t\tbackground-image: linear-gradient(to bottom, #1295d4 0%, #11a0c4 20%, #0cce83 100%);\n\t\tposition: absolute;\n\t\tleft: 0;\n\t}\n"]);return M=function(){return e},e}function y(){const e=Object(s.a)(["\n\tfont-size: 1.4em;\n\tfont-weight: bold;\n"]);return y=function(){return e},e}function I(){const e=Object(s.a)(["\n\tdisplay: block;\n\tdisplay: flex;\n\tjustify-content: center;\n\tflex-direction: column;\n\talign-items: center;\n"]);return I=function(){return e},e}function C(){const e=Object(s.a)(["\n\tposition: relative;\n\tdisplay: flex;\n\twidth:100%;\n\tjustify-content: space-between;\n\tflex-direction: column;\n\talign-items: center;\n\theight: 100%;\n\t@media(max-width: ","px) {\n\t\torder: 2;\n\t\toverflow-y: unset;\n\t\theight: auto;\n\t\twidth: 100%;\n\t\tmax-width: 100%;\n\t}\n\tbutton {\n\t\tposition: absolute;\n\t\tdisplay: block;\n\t\tbottom: 18px;\n\t\tleft: 50%;\n\t\ttransform: translateX(-50%);\n\t}\n"]);return C=function(){return e},e}const L=i.c.aside(C(),e=>e.theme.constants.BREAKPOINT_MOBILE),k=i.c.div(I()),P=i.c.div(y()),A=i.c.div(M());var _=a(89),F=a(23);const N=({stations:e,pathsMenu:t,accordionMenu:a,stationActive:n,tcsActive:o,pageCurrent:l,isOpen:r,onCloseMenu:s,onClickLogo:i})=>{const u=e?Object(D.q)(e,0):[],d=e?Object(D.q)(e,1):[];Object(D.E)(u),Object(D.E)(d);return c.a.createElement(L,{side:"left"},c.a.createElement(_.a,{onClickLogo:i}),c.a.createElement(A,null,c.a.createElement(F.a,{iconKey:"iconOptions",size:50})),c.a.createElement(k,null,c.a.createElement(F.a,{iconKey:"iconUser",size:40}),c.a.createElement(P,null,"Marco"),c.a.createElement(P,null,"Galliani")))};N.defaultProps={stations:[],side:"left",pathsMenu:null,stationActive:"",tcsActive:"",pageCurrent:{},accordionMenu:[]};var B=Object(l.a)(N);var V=Object(l.a)(c.a.memo((function(e){const t=e.station,a=e.globalLabels,o=e.configureDraw,l=e.configureDimesionDraw,s=e.goToDetails,i=e.configureTable,u=e.isThresholds,d=e.changeOpenModal,m=c.a.useState(!0),h=Object(n.a)(m,2),b=h[0],g=h[1];return t&&a&&o&&l?c.a.createElement(c.a.Fragment,null,b&&c.a.createElement(r.t,null),(e=>{switch(e.type){case 0:{const t=e.data.tcs.map(e=>({id:e.id,state:e.state}));return c.a.createElement(r.z,{goToDetails:s,dimesionDraw:l,configureDraw:o,changeIsLoading:g,stateTC:t,isThresholds:u,changeOpenModal:d})}default:return c.a.createElement(r.D,{idStation:e.id,dataGlobal:e.data,globalLabels:a,configureDraw:o,configureDimesionDraw:l,goToDetails:s,changeIsLoading:g,isThresholds:u,changeOpenModal:d})}})(t),!b&&i&&c.a.createElement(r.M,{data:i,isThresholds:u,changeOpenModal:d})):c.a.createElement(r.t,null)}),(e,t)=>Object(D.x)(e,t)));var z=Object(l.a)(c.a.memo((function({history:e,data:t,stationId:a,turbochargerId:o,configurations:l,labels:s,thresholds:i,isThresholds:u,changeOpenModal:d}){const m=c.a.useState(!0),h=Object(n.a)(m,2),b=h[0],g=h[1],f=c.a.useState(a),p=Object(n.a)(f,2),O=p[0],j=p[1],E=c.a.useState(o),x=Object(n.a)(E,2),S=x[0],T=x[1],w=c.a.useState(null),v=Object(n.a)(w,2),D=v[0],M=v[1],y=c.a.useState(null),I=Object(n.a)(y,2),C=I[0],L=I[1],k=c.a.useState(null),P=Object(n.a)(k,2),A=P[0],_=P[1],F=c.a.useState(null),N=Object(n.a)(F,2),B=N[0],V=N[1];c.a.useEffect(()=>{j(a),T(o),M(s),L(null),_(null)},[a,o,s,j,T,M,L,_]),c.a.useEffect(()=>{O===a&&S===o&&l&&D&&(L(l.configureLabels({data:t,tcs:S,thresholds:i,labels:D})),_(l.configureDataTable({data:t,tcs:S,thresholds:i,labels:D})),V(l.getDimesionDraw(S)))},[a,o,S,O,l,t,D,i,L,_,V]);const z=t=>{e.push("".concat(e.location.pathname,"/").concat(t))};return C&&A?c.a.createElement(c.a.Fragment,null,b&&c.a.createElement(r.t,null),c.a.createElement(r.z,{dimesionDraw:B,configureDraw:C,goToDetails:z,changeIsLoading:g,isThresholds:u,changeOpenModal:d}),!b&&c.a.createElement(r.M,{data:A,isThresholds:u,changeOpenModal:d})):c.a.createElement(r.t,null)}),(e,t)=>{Object(D.x)(e.data,t.data)}));var R=Object(l.a)(c.a.memo((function({data:e,stationId:t,turbochargerId:a,activeTab:o,thresholds:l,isThresholds:s,changeOpenModal:i,goToDetails:u,configurations:d,labels:m}){const h=c.a.useState(!0),b=Object(n.a)(h,2),g=b[0],f=b[1],p=c.a.useState(t),O=Object(n.a)(p,2),j=O[0],E=O[1],x=c.a.useState(a),S=Object(n.a)(x,2),T=S[0],w=S[1],v=c.a.useState(o),D=Object(n.a)(v,2),M=D[0],y=D[1],I=c.a.useState(null),C=Object(n.a)(I,2),L=C[0],k=C[1],P=c.a.useState(null),A=Object(n.a)(P,2),_=A[0],F=A[1],N=c.a.useState(null),B=Object(n.a)(N,2),V=B[0],z=B[1],R=c.a.useState(null),J=Object(n.a)(R,2),U=J[0],K=J[1];return c.a.useEffect(()=>{E(t),w(a),k(m),F(null),z(null),K(null)},[t,a,m,E,w,k,F,z]),c.a.useEffect(()=>{o!==M&&y(o),j===t&&T===a&&d&&L&&(F(d.configureLabels({data:e,tcs:a,activeTab:o,thresholds:l,labels:L})),z(d.configureDataTable({data:e,tcs:a,activeTab:o,thresholds:l,labels:L})),K(d.getDimesionDraw(a)))},[j,t,M,a,T,e,L,o,F,z,K,d,l]),_&&V?c.a.createElement(c.a.Fragment,null,g&&c.a.createElement(r.t,null),c.a.createElement(r.B,{goToDetails:u,configureDraw:_,dimesionDraw:U,changeIsLoading:f,configureTab:d.configurationTab(a),isThresholds:s,changeOpenModal:i}),!g&&c.a.createElement(r.M,{data:V,isThresholds:s,changeOpenModal:i})):c.a.createElement(r.t,null)}),(e,t)=>Object(D.x)(e,t)));const J=(e,t,a,n,o,l,s,i,u,d)=>c.a.createElement(c.a.Fragment,null,c.a.createElement(r.i,{idSelector:a,data:t,height:350,xDomain:s,yDomain:i,xLabel:u,yLabel:d,xUnit:u,yUnit:d,xWorkPoint:e[n]?Object(D.w)(e,n):null,yWorkPoint:e[o]?Object(D.w)(e,o):null}),c.a.createElement(r.r,{workPointer:l,padding:"16px 0"}));var U=Object(l.a)(c.a.memo((function({data:e,stationId:t,turbochargerId:a,thresholds:o,isThresholds:l,changeOpenModal:s,activeTab:i,configurations:u,labels:d}){const m=c.a.useState(!0),h=Object(n.a)(m,2),b=h[0],g=h[1],f=c.a.useState(t),p=Object(n.a)(f,2),O=p[0],j=p[1],E=c.a.useState(a),x=Object(n.a)(E,2),S=x[0],T=x[1],w=c.a.useState(i),v=Object(n.a)(w,2),D=v[0],M=v[1],y=c.a.useState(null),I=Object(n.a)(y,2),C=I[0],L=I[1],k=c.a.useState(d),P=Object(n.a)(k,2),A=P[0],_=P[1];return c.a.useEffect(()=>{j(t),T(a),M(i),_(d),g(!1),L(null)},[t,a,i,d]),c.a.useEffect(()=>{O===t&&S===a&&u&&A&&L(u.configureDataTable({data:e,tcs:S,activeTab:D,getChart:J,thresholds:o,labels:A}))},[O,t,S,a,u,e,A,D,o]),C?c.a.createElement(c.a.Fragment,null,b&&c.a.createElement(r.t,null),!b&&c.a.createElement(r.M,{data:C,isThresholds:l,changeOpenModal:s})):c.a.createElement(r.t,null)}),(e,t)=>Object(D.x)(e,t)));var K=Object(l.a)(c.a.memo((function({data:e,stationId:t,turbochargerId:a,configurations:o,labels:l}){const s=c.a.useState(!0),i=Object(n.a)(s,2),u=i[0],d=i[1],m=c.a.useState(t),h=Object(n.a)(m,2),b=h[0],g=h[1],f=c.a.useState(a),p=Object(n.a)(f,2),O=p[0],j=p[1],E=c.a.useState(null),x=Object(n.a)(E,2),S=x[0],T=x[1],w=c.a.useState(null),v=Object(n.a)(w,2),D=v[0],M=v[1],y=c.a.useState(l),I=Object(n.a)(y,2),C=I[0],L=I[1];return c.a.useEffect(()=>{g(t),j(a),L(l),d(!1),T(null),M(null)},[t,a,l]),c.a.useEffect(()=>{b===t&&O===a&&o&&C&&(M(o.configureDataTablePems({data:e,tcs:O,labels:C})),T(o.configureDataTable({data:e,tcs:O,labels:C})))},[b,t,O,a,o,e,C]),S?c.a.createElement(c.a.Fragment,null,u&&c.a.createElement(r.t,null),!u&&c.a.createElement(r.E,{data:D}),!u&&c.a.createElement(r.M,{data:S})):c.a.createElement(r.t,null)}),(e,t)=>Object(D.x)(e,t)));var G=Object(l.a)(c.a.memo((function({data:e,stationId:t,turbochargerId:a,activeTab:o,changeOpenModal:l,isThresholds:s,thresholds:i,configurations:u,labels:d}){const m=c.a.useState(!0),h=Object(n.a)(m,2),b=h[0],g=h[1],f=c.a.useState(t),p=Object(n.a)(f,2),O=p[0],j=p[1],E=c.a.useState(a),x=Object(n.a)(E,2),S=x[0],T=x[1],w=c.a.useState(null),v=Object(n.a)(w,2),D=v[0],M=v[1],y=c.a.useState(null),I=Object(n.a)(y,2),C=I[0],L=I[1],k=c.a.useState(null),P=Object(n.a)(k,2),A=P[0],_=P[1],F=c.a.useState(null),N=Object(n.a)(F,2),B=N[0],V=N[1],z=c.a.useState(o),R=Object(n.a)(z,2),J=R[0],U=R[1],K=c.a.useState(null),G=Object(n.a)(K,2),H=G[0],W=G[1];return c.a.useEffect(()=>{j(t),T(a),U(o),W(d),M(null),L(null),_(null),V(null)},[t,a,o,d]),c.a.useEffect(()=>{O===t&&S===a&&u&&H&&(M(u.configureLabels({data:e,tcs:S,tab:J,thresholds:i,labels:H})),L(u.configureDataTable({data:e,tcs:S,tab:J,thresholds:i,labels:H})),_(u.getDimesionDraw({tcs:S,tab:J})),V(u.getLivelOil({data:e,tcs:S,tab:J,labels:H})))},[O,t,S,a,u,e,H,J,i]),D&&C?c.a.createElement(c.a.Fragment,null,b&&c.a.createElement(r.t,null),c.a.createElement(r.z,{configureDraw:D,dimesionDraw:A,livelOil:B,changeIsLoading:g,isThresholds:s,changeOpenModal:l}),!b&&c.a.createElement(r.M,{data:C,isThresholds:s,changeOpenModal:l})):c.a.createElement(r.t,null)}),(e,t)=>Object(D.x)(e,t)));function H(e){const t=e.idSelector,a=e.data,n=e.curves,o=e.configureTable,l=e.workPointers,s=e.isThresholds,i=e.changeOpenModal;if(o&&l&&n){const e=n.map(e=>e.values.map(e=>e.y));let u=e.map(e=>Math.max(...e));const d=Math.max(...u);let m=e.map(e=>Math.min(...e));const h=Math.min(...m),b=n.map(e=>e.values.map(e=>e.x));let g=b.map(e=>Math.max(...e));const f=Math.max(...g);let p=b.map(e=>Math.min(...e));const O=Math.min(...p),j="Q [".concat(a[l[0].tagValue]&&Object(D.s)(a[l[0].tagValue].U),"]"),E="H [".concat(a[l[1].tagValue]&&Object(D.s)(a[l[1].tagValue].U),"]"),x=a[l[0].tagValue]&&Object(D.s)(a[l[0].tagValue].U),S=a[l[1].tagValue]&&Object(D.s)(a[l[1].tagValue].U),T=Object(D.w)(a,l[0].tagValue),w=Object(D.w)(a,l[1].tagValue),v=T>f?T/f:1,M=w>d?w/d:1;let y=f,I=d;return 1!==v&&1!==M&&(I*=v>M?v:M),c.a.createElement(c.a.Fragment,null,c.a.createElement(r.i,{idSelector:t,data:n,width:600,height:400,xDomain:[O-1,y+1],yDomain:[h-1,I+1],xLabel:j,yLabel:E,xUnit:x,yUnit:S,xWorkPoint:l&&Object(D.w)(a,l[0].tagValue),yWorkPoint:l&&Object(D.w)(a,l[1].tagValue),margin:{top:52,right:35,bottom:20,left:20}}),c.a.createElement(r.r,{workPointer:l}),c.a.createElement(r.M,{data:o,isThresholds:s,changeOpenModal:i}))}return c.a.createElement(r.t,null)}H.defaultProps={idSelector:"text-chart",data:{},turbochargerId:null,activeTab:"coce1",labels:null,curves:[]};var W=Object(l.a)(c.a.memo(H,(e,t)=>Object(D.x)(e,t)));var q=Object(l.a)(c.a.memo((function({stationId:e,turbochargerId:t,data:a,activeTab:o,thresholds:l,isThresholds:s,changeOpenModal:i,configurations:u,labels:d}){const m=c.a.useState(!0),h=Object(n.a)(m,2),b=h[0],g=h[1],f=c.a.useState(e),p=Object(n.a)(f,2),O=p[0],j=p[1],E=c.a.useState(t),x=Object(n.a)(E,2),S=x[0],T=x[1],w=c.a.useState(o),v=Object(n.a)(w,2),D=v[0],M=v[1],y=c.a.useState(d),I=Object(n.a)(y,2),C=I[0],L=I[1],k=c.a.useState(null),P=Object(n.a)(k,2),A=P[0],_=P[1],F=c.a.useState(null),N=Object(n.a)(F,2),B=N[0],V=N[1],z=c.a.useState(null),R=Object(n.a)(z,2),J=R[0],U=R[1];return c.a.useEffect(()=>{j(e),T(t),M(o),L(d),_(null),V(null)},[e,t,o,d]),c.a.useEffect(()=>{O===e&&S===t&&u&&C&&(_(u.configureLabels({data:a,tcs:S,activeTab:D,thresholds:l,labels:C})),V(u.configureDataTable({data:a,tcs:S,activeTab:D,thresholds:l,labels:C})),U(u.getDimesionDraw(S)))},[e,t,a,O,S,D,C,u,_,V,U,l,o]),A&&B?c.a.createElement(c.a.Fragment,null,b&&c.a.createElement(r.t,null),c.a.createElement(r.z,{configureDraw:A,dimesionDraw:J,activeTab:D,changeIsLoading:g,isThresholds:s,changeOpenModal:i}),!b&&c.a.createElement(r.M,{data:B,isThresholds:s,changeOpenModal:i})):c.a.createElement(r.t,null)}),(e,t)=>Object(D.x)(e,t)));const X=(e,t,a,n,o,l,s)=>c.a.createElement(r.q,{idSelector:e,data:t,width:n,height:o,xDomain:t,yDomain:l||[0,1e3],ticks:s,margin:{top:30,left:30,bottom:30,right:30},yLabel:a});var Z=Object(l.a)(c.a.memo((function({data:e,stationId:t,turbochargerId:a,configurations:o,labels:l,thresholds:s,isThresholds:i,changeOpenModal:u}){const d=c.a.useState(!0),m=Object(n.a)(d,2),h=m[0],b=m[1],g=c.a.useState(t),f=Object(n.a)(g,2),p=f[0],O=f[1],j=c.a.useState(a),E=Object(n.a)(j,2),x=E[0],S=E[1],T=c.a.useState(l),w=Object(n.a)(T,2),v=w[0],M=w[1],y=c.a.useState(null),I=Object(n.a)(y,2),C=I[0],L=I[1],k=c.a.useState(null),P=Object(n.a)(k,2),A=P[0],_=P[1],F=c.a.useState(null),N=Object(n.a)(F,2),B=N[0],V=N[1],z=c.a.useState(null),R=Object(n.a)(z,2),J=R[0],U=R[1];return c.a.useEffect(()=>{O(t),S(a),M(l),_(null),V(null),U(null)},[t,a,l]),c.a.useEffect(()=>{p===t&&x===a&&o&&v&&(_(o.configureLabels({data:e,tcs:x,thresholds:s,labels:v})),V(o.configureDataTable({data:e,tcs:x,thresholds:s,labels:v,getChart:X})),L(o.getDimesionDraw(x)),U(Object(D.d)({dataChart:e,tcs:x,labels:v})))},[p,t,x,a,o,e,v,s,_,V,L]),A&&B&&v?c.a.createElement(c.a.Fragment,null,h&&c.a.createElement(r.t,null),c.a.createElement(r.A,{stationId:t,turbochargerId:a,dimesionDraw:C,configureDraw:A,changeIsLoading:b,dataRadialCharts:J,isThresholds:i,changeOpenModal:u}),!h&&c.a.createElement(r.M,{data:B,isThresholds:i,changeOpenModal:u})):c.a.createElement(r.t,null)}),(e,t)=>Object(D.x)(e,t)));var Q=Object(l.a)(c.a.memo((function({data:e,stationId:t,turbochargerId:a,configurations:o,labels:l,isThresholds:s,thresholds:i,changeOpenModal:u}){const d=c.a.useState(!0),m=Object(n.a)(d,2),h=m[0],b=m[1],g=c.a.useState(t),f=Object(n.a)(g,2),p=f[0],O=f[1],j=c.a.useState(a),E=Object(n.a)(j,2),x=E[0],S=E[1],T=c.a.useState(l),w=Object(n.a)(T,2),v=w[0],D=w[1],M=c.a.useState(null),y=Object(n.a)(M,2),I=y[0],C=y[1],L=c.a.useState(null),k=Object(n.a)(L,2),P=k[0],A=k[1],_=c.a.useState(null),F=Object(n.a)(_,2),N=F[0],B=F[1];return c.a.useEffect(()=>{O(t),S(a),D(l),C(null),A(null)},[t,a,l]),c.a.useEffect(()=>{p===t&&x===a&&o&&v&&(C(o.configureLabels({data:e,tcs:x,thresholds:i,labels:v})),A(o.configureDataTable({data:e,tcs:x,thresholds:i,labels:v})),B(o.getDimesionDraw(x)))},[t,a,x,p,e,v,o,i,C,A,B]),I&&P?c.a.createElement(c.a.Fragment,null,h&&c.a.createElement(r.t,null),c.a.createElement(r.z,{dimesionDraw:N,configureDraw:I,changeIsLoading:b,isThresholds:s,changeOpenModal:u}),!h&&c.a.createElement(r.M,{data:P,isThresholds:s,changeOpenModal:u})):c.a.createElement(r.t,null)}),(e,t)=>Object(D.x)(e,t)));var Y=Object(l.a)(c.a.memo((function({data:e,stationId:t,turbochargerId:a,activeTab:o,changeOpenModal:l,isThresholds:s,thresholds:i,configurations:u,labels:d}){const m=c.a.useState(!0),h=Object(n.a)(m,2),b=h[0],g=h[1],f=c.a.useState(t),p=Object(n.a)(f,2),O=p[0],j=p[1],E=c.a.useState(a),x=Object(n.a)(E,2),S=x[0],T=x[1],w=c.a.useState(null),v=Object(n.a)(w,2),D=v[0],M=v[1],y=c.a.useState(null),I=Object(n.a)(y,2),C=I[0],L=I[1],k=c.a.useState(null),P=Object(n.a)(k,2),A=P[0],_=P[1],F=c.a.useState(null),N=Object(n.a)(F,2),B=N[0],V=N[1],z=c.a.useState(o),R=Object(n.a)(z,2),J=R[0],U=R[1],K=c.a.useState(null),G=Object(n.a)(K,2),H=G[0],W=G[1];return c.a.useEffect(()=>{j(t),T(a),U(o),W(d),M(null),L(null),_(null),V(null)},[t,a,o,d]),c.a.useEffect(()=>{O===t&&S===a&&u&&H&&(M(u.configureLabels({data:e,tcs:S,tab:J,thresholds:i,labels:H})),L(u.configureDataTable({data:e,tcs:S,tab:J,thresholds:i,labels:H})),_(u.getDimesionDraw({tcs:S,tab:J})),V(u.getLivelOil({data:e,tcs:S,tab:J,labels:H})))},[O,t,S,a,u,e,H,J,i]),D&&C?c.a.createElement(c.a.Fragment,null,b&&c.a.createElement(r.t,null),c.a.createElement(r.z,{configureDraw:D,dimesionDraw:A,livelOil:B,changeIsLoading:g,isThresholds:s,changeOpenModal:l}),!b&&c.a.createElement(r.M,{data:C,isThresholds:s,changeOpenModal:l})):c.a.createElement(r.t,null)}),(e,t)=>Object(D.x)(e,t)));var $=Object(l.a)(c.a.memo((function({data:e,stationId:t,turbochargerId:a,activeTab:o,changeOpenModal:l,isThresholds:s,thresholds:i,configurations:u,labels:d}){const m=c.a.useState(!0),h=Object(n.a)(m,2),b=h[0],g=h[1],f=c.a.useState(t),p=Object(n.a)(f,2),O=p[0],j=p[1],E=c.a.useState(a),x=Object(n.a)(E,2),S=x[0],T=x[1],w=c.a.useState(null),v=Object(n.a)(w,2),D=v[0],M=v[1],y=c.a.useState(null),I=Object(n.a)(y,2),C=I[0],L=I[1],k=c.a.useState(null),P=Object(n.a)(k,2),A=P[0],_=P[1],F=c.a.useState(null),N=Object(n.a)(F,2),B=N[0],V=N[1],z=c.a.useState(o),R=Object(n.a)(z,2),J=R[0],U=R[1];return c.a.useEffect(()=>{j(t),T(a),U(o),M(d),L(null),_(null),V(null)},[t,a,o,d]),c.a.useEffect(()=>{O===t&&S===a&&u&&D&&(L(u.configureLabels({data:e,tcs:S,tab:J,thresholds:i,labels:D})),_(u.configureDataTable({data:e,tcs:S,tab:J,thresholds:i,labels:D})),V(u.getDimesionDraw({tcs:S,tab:J})))},[O,t,S,a,u,e,J,D,i,L,_,V]),C&&A?c.a.createElement(c.a.Fragment,null,b&&c.a.createElement(r.t,null),c.a.createElement(r.z,{configureDraw:C,changeIsLoading:g,isThresholds:s,changeOpenModal:l,dimesionDraw:B}),!b&&c.a.createElement(r.M,{data:A,isThresholds:s,changeOpenModal:l})):c.a.createElement(r.t,null)}),(e,t)=>Object(D.x)(e,t)));var ee=Object(l.a)(c.a.memo((function({data:e,stationId:t,turbochargerId:a,activeTab:o,changeOpenModal:l,isThresholds:s,thresholds:i,configurations:u,labels:d}){const m=c.a.useState(!0),h=Object(n.a)(m,2),b=h[0],g=h[1],f=c.a.useState(t),p=Object(n.a)(f,2),O=p[0],j=p[1],E=c.a.useState(a),x=Object(n.a)(E,2),S=x[0],T=x[1],w=c.a.useState(null),v=Object(n.a)(w,2),D=v[0],M=v[1],y=c.a.useState(null),I=Object(n.a)(y,2),C=I[0],L=I[1],k=c.a.useState(null),P=Object(n.a)(k,2),A=P[0],_=P[1],F=c.a.useState(null),N=Object(n.a)(F,2),B=N[0],V=N[1],z=c.a.useState(o),R=Object(n.a)(z,2),J=R[0],U=R[1];return c.a.useEffect(()=>{j(t),T(a),U(o),M(d),L(null),_(null),V(null)},[t,a,o,d]),c.a.useEffect(()=>{O===t&&S===a&&u&&D&&(L(u.configureLabels({data:e,tcs:S,tab:J,thresholds:i,labels:D})),_(u.configureDataTable({data:e,tcs:S,tab:J,thresholds:i,labels:D})),V(u.getDimesionDraw({tcs:S,tab:J})))},[O,t,S,a,u,e,J,D,i,L,_,V]),C&&A?c.a.createElement(c.a.Fragment,null,b&&c.a.createElement(r.t,null),c.a.createElement(r.z,{dimesionDraw:B,configureDraw:C,changeIsLoading:g,isThresholds:s,changeOpenModal:l}),!b&&c.a.createElement(r.M,{data:A,isThresholds:s,changeOpenModal:l})):c.a.createElement(r.t,null)}),(e,t)=>Object(D.x)(e,t)));function te(){const e=Object(s.a)(["\n\tfont-size: 24px;\n\ttext-align:center;\n\tfont-weight: bold;\n"]);return te=function(){return e},e}function ae(){const e=Object(s.a)(["\n\tfont-size: 16px;\n\tspan {\n\t\tfont-weight: bold;\n\t}\n"]);return ae=function(){return e},e}function ne(){const e=Object(s.a)(["\n\tfont-size: 24px;\n\tfont-weight: bold;\n\tpadding-bottom: 4px;\n"]);return ne=function(){return e},e}function oe(){const e=Object(s.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding-bottom: 40px;\n\tborder-bottom: 1px solid ",";\n\tbutton {\n\t\tbackground-image: linear-gradient(to right, #1295d4 0%, #11a0c4 20%, #0cce83 100%);\n\t}\n"]);return oe=function(){return e},e}function ce(){const e=Object(s.a)(["\n\tposition: relative;\n\tbackground-color: ",";\n\toverflow-y: auto;\n\toverflow-x: hidden;\n\tmargin-top:-1px;\n\tborder-left: 1px solid ",";\n\theight: 100%;\n\twidth: 320px;\n\tpadding: 40px;\n"]);return ce=function(){return e},e}const le=i.c.aside(ce(),e=>e.theme.colors.colorBlueNavy,e=>e.theme.colors.colorBlueNavy),re=i.c.div(oe(),e=>e.theme.colors.colorCeruleanBlue),se=i.c.div(ne()),ie=i.c.div(ae()),ue=i.c.div(te());var de=c.a.memo(({action:e})=>c.a.createElement(le,{className:"dflex dflex__col dflex__center--space-between",side:"right"},c.a.createElement(re,null,c.a.createElement("div",null,c.a.createElement(se,null,"Notification center"),c.a.createElement(ie,null,"Notifiche totali ",c.a.createElement("span",null,"0"))),c.a.createElement(r.g,{icon:"closeX",sizeIcon:48,height:"60px",padding:"0px 10px",action:e})),c.a.createElement(ue,null,"Oggi non sono presenti notifiche da segnalarti"),c.a.createElement("div",null)),(e,t)=>Object(D.x)(e,t));function me(){const e=Object(s.a)(["\n\tposition: relative;\n\toverflow-y: auto;\n\toverflow-x: hidden;\n\tflex-grow: 1;\n\theight: calc(100vh - 96px);\n\twidth: calc(100vw - 220px);\n\t@media(max-width: ","px) {\n\t\twidth: 100%;\n    height: 100%;\n\t}\n"]);return me=function(){return e},e}function he(){const e=Object(s.a)(["\n\theight: 100%;\n\t@media(max-width: ","px) {\n\t\tflex-direction: column;\t\t\n\t}\n"]);return he=function(){return e},e}const be=i.c.div(he(),e=>e.theme.constants.BREAKPOINT_MOBILE),ge=i.c.div(me(),e=>e.theme.constants.BREAKPOINT_MOBILE);var fe=({accordionData:e,children:t,action:a,isThresholds:n,changeOpenModal:o})=>c.a.createElement(be,{className:"dflex"},c.a.createElement(ge,{id:"wrapper-body"},t),c.a.createElement(de,{accordionsData:e,action:a,isThresholds:n,changeOpenModal:o})),pe=a(800),Oe=a.n(pe),je=a(801),Ee=a.n(je);var xe=c.a.memo((function(e){const t=e.dataTrend,a=e.stationID,o=e.tcsID,l=e.handleShowModal,s=e.getTrendCSV,i=e.labels,u=e.dispatchGetTrendChart,d=c.a.useState(t),m=Object(n.a)(d,2),h=m[0],b=m[1],g=c.a.useState([0,10]),f=Object(n.a)(g,2),p=f[0],O=f[1],j=c.a.useState([0,10]),E=Object(n.a)(j,2),x=E[0],S=E[1],T=c.a.useState(null),w=Object(n.a)(T,2),v=w[0],M=w[1],y=c.a.useState([]),I=Object(n.a)(y,2),C=I[0],L=I[1];c.a.useEffect(()=>{if(JSON.stringify(i)!==JSON.stringify(v)){M(i);const e=[];i.forEach(t=>{t.tagList.forEach(t=>{e.findIndex(e=>e.tagAcn===t.tagAcn)<0&&e.push(t)})}),L(e)}},[i,v,M]),c.a.useEffect(()=>{const e=t&&t.dateFrom?new Date(t.dateFrom):new Date((new Date).setHours((new Date).getHours()-1)),n=t&&t.dateTo?new Date(h.dateTo):new Date;if(t.chart){const e=t.chart.map(e=>e.values.map(e=>e.y));let a=e.map(e=>Math.max(...e)),n=e.map(e=>Math.min(...e));const o=Math.max(...a),c=Math.min(...n);O([c,o])}else u({station:a,measures:t.listParameters.map(e=>"".concat(o,"_").concat(e.tag,"_").concat(e.uom)),from:e.getTime(),to:n.getTime()},a,o,t.id,!1);S([e,n]),b(t)},[a,o,h,t,u]);const k=h&&h.dateFrom?new Date(h.dateFrom):new Date((new Date).setHours((new Date).getHours()-1)),P=h&&h.dateTo?new Date(h.dateTo):new Date,A=h&&h.listParameters.length>0&&Object(D.s)(h.listParameters[0].uom),_=h&&h.listParameters.map(e=>{const t=Object(D.l)(C,e.tag);return{tag:e.tag,color:Object(D.b)(e.uom),label:t.label,uom:t.uom}}),F=Date.now();return c.a.createElement("div",{id:"masonry-card-".concat(F)},c.a.createElement(r.h,{title:h.name,onExpand:()=>l(h)},c.a.createElement(r.k,{classStyle:"margin-bottom-10",values:{dateFrom:Object(D.j)(k),dateTo:Object(D.j)(P)},actionBar:[{label:"Download",icon:"download",tooltipMenu:[{icon:"download",label:"Download JPG",action:()=>{(e=>{const t=document.getElementById(e);t.classList.add("restyle"),Oe()(t).then(e=>{var a={content:[{image:e.toDataURL(),width:t.offsetWidth}]};Ee.a.createPdf(a).download("test_file.pdf")}),t.classList.remove("restyle")})("masonry-card-".concat(F))}},{icon:"download",label:"Download CSV",action:()=>{s([{station:a,fileName:h.name,measures:h.listParameters.map(e=>"".concat(o,"_").concat(e.tag,"_").concat(e.uom)),from:k.getTime(),to:P.getTime()}])}}]}]}),c.a.createElement("div",null,h.chart?c.a.createElement(r.j,{idSelector:"#cartesian-trend-".concat(a,"-").concat(o,"-").concat(h.id),data:h.chart||[],height:222,xDomain:x,yDomain:p,xLabel:"t",yLabel:A,xUnit:"t",yUnit:A,margin:{top:32,right:32,bottom:20,left:20},colors:D.b,findTooltipLabel:e=>Object(D.f)(C,e)}):c.a.createElement(r.t,{type:"component"})),c.a.createElement(r.m,{itemsTable:_})))}),(e,t)=>Object(D.x)(e,t));function Se(){const e=Object(s.a)(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\theight: 32px;\n\tborder-radius: 0 0 3px 3px;\n\tfont-size: 1.2em;\n\tcolor: ",";\n\tbackground-color: ",";\n"]);return Se=function(){return e},e}function Te(){const e=Object(s.a)(["\n\tposition: relative;\n\tpadding: 20px 16px;\n\tmax-height: 500px;\n\toverflow-y: auto;\n\toverflow-x: hidden;\n\t& > div {\n\t\tmargin-bottom: 16px;\n\t\t&:last-of-type {\n\t\t\tmargin-bottom: 0;\n\t\t}\n\t}\n"]);return Te=function(){return e},e}const we=i.c.div(Te()),ve=i.c.div(Se(),e=>e.theme.colors.white,e=>e.theme.colors.persianRed),De=({showModal:e,closeModal:t,searchTag:a,thresholds:o,onSave:l,statusResponse:s,resetResponseApi:i,userRole:u,labels:d,typeTag:m})=>{const h=c.a.useState([]),b=Object(n.a)(h,2),g=b[0],f=b[1],p=c.a.useState([]),O=Object(n.a)(p,2),j=O[0],E=O[1],x=document.getElementById(a),S=document.getElementById("wrapper-box");c.a.useEffect(()=>{JSON.stringify(o)!==JSON.stringify(g)&&f(o)},[o,g]),c.a.useEffect(()=>{JSON.stringify(d)!==JSON.stringify(j)&&E(d)},[d,j]),c.a.useEffect(()=>{a&&S&&x&&S.scrollTo({top:x.offsetTop-S.offsetTop-16,behavior:"smooth"})},[a,x,S]);return c.a.createElement(r.x,{showModal:e,classStyle:"modal-thresholds",title:"Gestione Soglie",onClose:()=>{i(),t(!1)}},c.a.createElement(we,{id:"wrapper-box"},g&&(e=>{const t=e.findIndex(e=>e.tag===a);switch(!0){case t<0:return c.a.createElement(ve,{className:"dflex dflex__center dflex__center--space-cente"},"Dato su cui non \xe8 possibile impostare le soglie");case t>=0:return e.map(e=>{const t=j.find(t=>t.tagAcn===e.tag)||{labelTooltip:"",uom:"",tagCliente:"",tagVendor:""},n=Object(D.s)(t.uom);return c.a.createElement(r.d,{key:e.tag,focus:e.tag===a,data:e,label:t.labelTrend,labelTag:t[m],text:"Aggiorna",action:l,status:s,uom:n,userRole:u})});default:return null}})(g)))};De.defaultProps={showModal:!1,closeModal:()=>{},searchTag:null,thresholds:[],onSave:()=>{},statusResponse:null,resetResponseApi:()=>{},userRole:null,labels:[],typeTag:"tagCliente"};var Me=De,ye=a(15);const Ie=e=>{const t=e.dataTrend,a=e.stationID,o=e.tcsID,l=e.handleShowModal,s=e.showModal,i=e.type,u=e.getTrendCSV,d=e.saveTrend,m=e.labels,h=e.currentChart,b=e.archive,g=e.dispatchGetChartByParameters,f=e.dispatchGetTrendChart,p=e.dispatchResetCurrentChart,O=c.a.useState(!0),j=Object(n.a)(O,2),E=j[0],x=j[1],S=c.a.useState(t.name),T=Object(n.a)(S,2),w=T[0],v=T[1],M=c.a.useState(!1),y=Object(n.a)(M,2),I=y[0],C=y[1],L=c.a.useState(t),k=Object(n.a)(L,2),P=k[0],A=k[1],_=c.a.useState([]),F=Object(n.a)(_,2),N=F[0],B=F[1],V=c.a.useState(null),z=Object(n.a)(V,2),R=z[0],J=z[1],U=c.a.useState(null),K=Object(n.a)(U,2),G=K[0],H=K[1],W=c.a.useState({dateFrom:new Date(t.dateFrom),dateTo:new Date(t.dateTo)}),q=Object(n.a)(W,2),X=q[0],Z=q[1],Q=c.a.useState([0,10]),Y=Object(n.a)(Q,2),$=Y[0],ee=Y[1],te=c.a.useState([0,10]),ae=Object(n.a)(te,2),ne=ae[0],oe=ae[1],ce=c.a.useState(!1),le=Object(n.a)(ce,2),re=le[0],se=le[1],ie=c.a.useState(!1),ue=Object(n.a)(ie,2),de=ue[0],me=ue[1],he=c.a.useState("edit"===i?"chart":"dataSet"),be=Object(n.a)(he,2),ge=be[0],fe=be[1],pe=c.a.useState("forPage"),Oe=Object(n.a)(pe,2),je=Oe[0],Ee=Oe[1],xe=c.a.useState(null),Se=Object(n.a)(xe,2),Te=Se[0],we=Se[1],ve=c.a.useState([]),De=Object(n.a)(ve,2),Me=De[0],Ie=De[1],Ce=c.a.useState([]),Le=Object(n.a)(Ce,2),ke=Le[0],Pe=Le[1],Ae=c.a.useState([]),_e=Object(n.a)(Ae,2),Fe=_e[0],Ne=_e[1],Be=c.a.useState([]),Ve=Object(n.a)(Be,2),ze=Ve[0],Re=Ve[1],Je=c.a.useState([]),Ue=Object(n.a)(Je,2),Ke=Ue[0],Ge=Ue[1];c.a.useEffect(()=>()=>p(),[p]),c.a.useEffect(()=>{const e=t&&t.dateFrom?new Date(t.dateFrom):new Date((new Date).setHours((new Date).getHours()-1)),n=t&&t.dateTo?new Date(t.dateTo):new Date;if(t.chart){const e=t.chart.map(e=>e.values.map(e=>e.y));let a=e.map(e=>Math.max(...e)),n=e.map(e=>Math.min(...e));const o=Math.max(...a),c=Math.min(...n);Math.abs(c)!==1/0&&Math.abs(o)!==1/0&&ee([c,o]),B(t.chart),x(!1)}else f({station:a,measures:t.listParameters.map(e=>"".concat(o,"_").concat(e.tag,"_").concat(e.uom)),from:e.getTime(),to:n.getTime()},a,o,t.id,b);oe([e,n]),A(t),Z({dateFrom:e,dateTo:n})},[a,o,t,b,f]),c.a.useEffect(()=>{if(JSON.stringify(m)!==JSON.stringify(G)){const e=[];m.forEach(t=>{t.tagList.forEach(t=>{e.findIndex(e=>e.tagAcn===t.tagAcn)<0&&e.push(t)})}),Ie(m.map(e=>({key:e.idPage,value:e.idUI}))),we(m[0].idPage),H(m),Ne(e),Re(e),Pe(m[0].tagList)}},[m,G]),c.a.useEffect(()=>{G&&(we(G[0].idPage),Pe(G[0].tagList),Re(Fe))},[je,G,Fe]),c.a.useEffect(()=>{if(Fe.length>0){const e=P.listParameters.map(e=>Fe.find(t=>t.tagAcn===e.tag)||{labelTable:"-",labelTooltip:"-",labelTrend:"-",tagAcn:e.tag,tagCliente:"-",tagUi:"-",tagVendor:"-",uom:"-"});J(e)}},[Fe,P]),c.a.useEffect(()=>{if(h){const e=h.map(e=>e.values.map(e=>e.y));let t=e.map(e=>Math.max(...e)),a=e.map(e=>Math.min(...e));const n=Math.max(...t),o=Math.min(...a);Math.abs(o)!==1/0&&Math.abs(n)!==1/0&&ee([o,n]);const c=qe(P.sliders?P.sliders.filter(e=>"verticalSliders"===e.type):[],h);B(h),Ge(c),x(!1)}},[h,P]);const He=e=>{let t=Object(ye.a)({},P);t.comments=e,A(t)},We=e=>{let t=Object(ye.a)({},P);t.sliders=e;const a=qe(e.filter(e=>"verticalSliders"===e.type),N);Ge(a),A(t)},qe=(e,t)=>{const a=[];return e.forEach(e=>{let n={name:e.id,value:e.x,listParam:[]};e.x>=ne[0]&&e.x<=ne[1]?t.forEach(t=>{const a=t.values,o=a.reduce((function(t,a,n,o){return n&&Math.abs(o[t].x-e.x)<Math.abs(a.x-e.x)?t:n}),-1),c=t.name.split("_");n.listParam.push({param:c.length>0?c[1]:c,value:o>=0?a[o].y:null})}):n.listParam=Ke.find(e=>e.name===n.name)&&Ke.find(e=>e.name===n.name).listParam,a.push(n)}),a},Xe=e=>{const t=(a=e.target.value,[...Fe].filter(e=>e.tagCliente.toLowerCase().includes(a.toLowerCase())));var a;t&&Re(t)},Ze=e=>{Pe(G.find(t=>t.idPage===e).tagList)},Qe=e=>{let t=[...R];return t.length>0?e.uom===t[0].uom&&(t.push(e),J(t),Ye(t),!0):(t.push(e),J(t),Ye(t),!0)},Ye=e=>{x(!0),g({station:a,measures:e.map(e=>"".concat(o,"_").concat(e.tagAcn,"_").concat(e.uom)),from:X.dateFrom.getTime(),to:X.dateTo.getTime()})},$e=P&&P.listParameters.length>0&&Object(D.s)(P.listParameters[0].uom),et=R?R.map(e=>({tag:e.tagAcn,color:Object(D.b)(e.uom),label:e.labelTrend,uom:Object(D.s)(e.uom)})):[];return c.a.createElement(r.x,{showModal:s,onClose:()=>l(!1),input:{value:w,placeholder:"Nome trend",onChange:e=>{C(!1),v(e.target.value)},error:I},actionButton:[{text:"Salva Trend",icon:"save",action:()=>{let e=Object(ye.a)({},P);w.length>0?(e.name=w,e.dateFrom=X.dateFrom.getTime(),e.dateTo=X.dateTo.getTime(),e.listParameters=R.map(e=>({tag:e.tagAcn,uom:e.uom})),e.chart=N,d(e,i)):C(!0)}}]},c.a.createElement(r.F,{itemsTab:[{text:"Serie dati",key:"chart",action:()=>fe("chart")},{text:"Modifica serie dati",key:"dataSet",action:()=>fe("dataSet")}],currentTab:ge},c.a.createElement(r.l,{classStyle:"margin-left-32",padding:"0",filters:{dateFrom:X.dateFrom.getTime(),dateTo:X.dateTo.getTime()},changeFilters:e=>{const t=e.dateFrom.getTime(),n=e.dateTo.getTime();Z(e),oe([t,n]),x(!0),g({station:a,measures:R.map(e=>"".concat(o,"_").concat(e.tagAcn,"_").concat(e.uom)),from:e.dateFrom.getTime(),to:e.dateTo.getTime()})}})),(e=>{switch(e){case"chart":return c.a.createElement(c.a.Fragment,null,c.a.createElement(r.l,{actions:[{label:"Zoom Area",active:re,icon:re?"zoomBlue":"zoomPlus",action:()=>{me(!1),se(!re)}},{label:"Attiva Commenti",active:de,icon:P&&P.comments?"iconaCommentiPallino":"iconaCommenti",action:()=>{se(!1),me(!de)}},{label:"Download",icon:"download",tooltipMenu:[{icon:"download",label:"Download JPG",action:()=>{console.log("Download JPG")}},{icon:"download",label:"Download CSV",action:()=>{u([{station:a,fileName:w,measures:R.map(e=>"".concat(o,"_").concat(e.tagAcn,"_").concat(e.uom)),from:X.dateFrom.getTime(),to:X.dateTo.getTime()}])}}]}]}),c.a.createElement("div",null,c.a.createElement(r.j,{idSelector:"#cartesian-trend-modal-".concat(a,"-").concat(o,"-").concat(P.id),loading:E,data:N,height:300,xDomain:ne,yDomain:$,xLabel:"t",yLabel:$e,xUnit:"t",yUnit:$e,margin:{top:32,right:40,bottom:44,left:40},colors:D.b,onHover:!0,comments:P.comments,sliders:P.sliders,zoomActive:re,commentsActive:de,slidersActive:!0,onChangeZoomActive:()=>se(!1),onChangecommentsActive:()=>me(!1),onSaveComments:He,onSaveSliders:We,findTooltipLabel:e=>Object(D.f)(Fe,e)})),c.a.createElement("div",{className:"padding-16"},c.a.createElement(r.m,{itemsTable:et,dataTable:Ke})));case"dataSet":return c.a.createElement("div",{className:"dflex padding-16"},c.a.createElement(r.K,{title:"Selezione dati"},c.a.createElement(r.F,{itemsTab:[{text:"Per pagina",key:"forPage",action:()=>Ee("forPage")},{text:"Per tag",key:"forTags",action:()=>Ee("forTags")}],currentTab:je,borderTab:"none"}),(e=>{switch(e){case"forPage":return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"padding-left-16 padding-right-16"},c.a.createElement(r.y,{valueActive:Te,options:Me,onChange:Ze})),c.a.createElement(r.J,{classStyle:"margin-top-16",tags:ke,isChecked:e=>R.findIndex(t=>t.tagAcn===e.tagAcn)>=0,actiontag:e=>Qe(e),icons:["iconaAdded","addIcon"]}));case"forTags":return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"dflex padding-left-16 padding-right-16"},c.a.createElement(r.p,{height:18,onChange:Xe})),c.a.createElement(r.J,{classStyle:"margin-top-16",tags:ze,isChecked:e=>R.findIndex(t=>t.tagAcn===e.tagAcn)>=0,actiontag:e=>Qe(e),icons:["iconaAdded","addIcon"]}));default:return c.a.createElement(r.t,null)}})(je)),c.a.createElement(r.K,{title:"Dati sul grafico (".concat(R&&R.length,")")},c.a.createElement(r.J,{tags:R,actiontag:e=>(e=>{let t=[...R];return t.length>0?e.uom===t[0].uom&&(t=t.filter(t=>t.tagAcn!==e.tagAcn),J(t),Ye(t),!0):(t=t.filter(t=>t.tagAcn!==e.tagAcn),J(t),Ye(t),!0)})(e),icons:["iconaDelete","iconaDelete"],showLayerAdd:!0})));default:return c.a.createElement(r.t,null)}})(ge))};Ie.defaultProps={dataTrend:{},saveTrend:()=>{},labels:null};var Ce=c.a.memo(Ie,(e,t)=>Object(D.x)(e,t));const Le=e=>{const t=e.station,a=e.tcs,o=e.showModal,l=e.onCloseModal,s=e.trendsTC,i=e.getTrendCSV,u=c.a.useState(s),d=Object(n.a)(u,2),m=d[0],h=d[1],b=c.a.useState([]),g=Object(n.a)(b,2),f=g[0],p=g[1],O=c.a.useState({dateFrom:new Date((new Date).setDate((new Date).getDate()-1)),dateTo:new Date}),j=Object(n.a)(O,2),E=j[0],x=j[1];c.a.useEffect(()=>{const e=[...s].map(e=>Object(ye.a)(Object(ye.a)({},e),{isVisible:!0}));h(e)},[s]);return c.a.createElement(r.x,{title:"Download CSV",showModal:o,onClose:()=>l(!1),maxWidth:"688px"},c.a.createElement(r.l,{filters:E,changeFilters:x,isButton:!1}),c.a.createElement(r.I,{searchInput:{placeholder:"Cerca trend per nome",onChange:e=>{const t=(a=e.target.value,n=s,[...n].map(e=>{const t=Object(ye.a)({},e);return e.name.toLowerCase().includes(a.toLowerCase())?t.isVisible=!0:t.isVisible=!1,t}));var a,n;h(t)}},trendsFiltered:m,checkList:f,handleChangeCheckList:(e,t)=>{let a=[...f];e.target.checked?(a.findIndex(e=>e.id===t.id)<0||0===a.length)&&(a.push(t),p(a)):a.findIndex(e=>e.id===t.id)>=0&&p(a.filter(e=>e.id!==t.id))},button:{action:()=>{let e=f.map(e=>({station:t,fileName:e.name,measures:e.listParameters.map(e=>"".concat(a,"_").concat(e.tag,"_").concat(e.uom)),from:E.dateFrom.getTime(),to:E.dateTo.getTime()}));i(e)},title:"Scarica il CSV"}}))};Le.defaultProps={station:"",tcs:"",showModal:!1,onCloseModal:()=>{},trendsTC:[],getTrendCSV:()=>{}};var ke=Le;function Pe(){const e=Object(s.a)(["\n\tborder-bottom: solid 1px ",";\n\tbackground-color:  ",";\n\tcursor: pointer;\n\t.title {\n\t\twidth: 30%;\n\t\tpadding: 16px 8px;\n\t\tborder-right: solid 1px ",";\n\t\tfont-size: 1em;\n\t\tfont-weight: 500;\n\t\tcolor: ",";\n\t}\n\t.detail {\n\t\tpadding: 16px 8px;\n\t\tflex-grow: 1;\n\t\tbutton {\n\t\t\tbackground: transparent;\n\t\t\tborder: none;\n\t\t\tcursor: pointer;\n\t\t}\n\t}\n\n\t&:last-of-type {\n\t\tborder-bottom: none;\n\t}\n\t\n\t&:hover {\n\t\tbackground: ",";\n\t}\n"]);return Pe=function(){return e},e}function Ae(){const e=Object(s.a)(["\n\tborder-radius: 4px;\n\tborder: solid 1px ",";\n\tbackground-color:  ",";\n"]);return Ae=function(){return e},e}const _e=i.c.div(Ae(),e=>e.theme.colors.colorChambray,e=>e.theme.colors.colorTarawera),Fe=i.c.div(Pe(),e=>e.theme.colors.colorChambray,e=>e.theme.colors.colorTarawera,e=>e.theme.colors.colorChambray,e=>e.theme.colors.white,e=>e.theme.colors.colorWedgewood);var Ne=e=>{const t=e.trendsTC,a=e.handleShowModal,o=e.deliteTrend,l=e.duplicateTrend,s=c.a.useState(t),i=Object(n.a)(s,2),u=i[0],d=i[1],m=c.a.useState(t),h=Object(n.a)(m,2),b=h[0],g=h[1],f=c.a.useState(!1),p=Object(n.a)(f,2),O=p[0],j=p[1],E=c.a.useState(null),x=Object(n.a)(E,2),S=x[0],T=x[1];c.a.useEffect(()=>{d(t),g(t)},[t]);return c.a.createElement("div",{className:"padding-left-16 padding-right-16 padding-top-32 padding-bottom-32 wrapper-overflow"},c.a.createElement("div",{className:"dflex margin-bottom-16"},c.a.createElement(r.p,{id:"search-trends",name:"search-trends",placeholder:"Cerca trend per nome o per data",onChange:e=>{const t=(a=e.target.value,n=u,[...n].filter(e=>e.name.toLowerCase().includes(a.toLowerCase())));var a,n;g(t)}})),c.a.createElement(_e,null,(()=>{let e=[];return b&&b.forEach(t=>{t&&e.push(c.a.createElement(Fe,{className:"dflex dflex__center",key:t.id},c.a.createElement("div",{className:"title",onClick:()=>a(t)},t.name),c.a.createElement("div",{className:"detail dflex dflex__center dflex__center--space-between"},c.a.createElement(r.k,{values:{dateFrom:Object(D.j)(new Date(t.dateFrom)),dateTo:Object(D.j)(new Date(t.dateTo))}}),c.a.createElement("div",{className:"dflex"},c.a.createElement("button",{onClick:()=>l(t)},c.a.createElement(r.o,{iconKey:"duplicaIcon",size:14})),c.a.createElement("button",{onClick:()=>{j(!0),T(t)}},c.a.createElement(r.o,{iconKey:"deleteTrendIcon",size:14}))))))}),e})(),O&&c.a.createElement(r.x,{showModal:O,onClose:()=>j(!1),maxWidth:"688px"},c.a.createElement("p",{className:"dflex dflex__center dflex__center--space-center"},"Il grafico verr\xe0 eliminato in modo permanente, sei sicuro di voler procedere?"),c.a.createElement("div",{className:"dflex dflex__center--space-evenly padding-20"},c.a.createElement(r.g,{text:"Si, elimina definitivamente",height:"28px",padding:"0 8px",action:()=>{j(!1),o(S.id)}}),c.a.createElement(r.g,{text:"Annulla",height:"28px",padding:"0 8px",action:()=>j(!1)})))))}},799:function(e,t,a){}}]);